:root{
    --index: calc(1vw + 1vh);
    --transition: cubic-bezier(.1, .7, 0, 1);
}

.items{
    display: flex;
    gap: 0.4rem;
    perspective: calc(var(--index) * 35);
}

.item{
    background-color: transparent;
    cursor: pointer;
    filter: grayscale(1) brightness(.5);
    transition: transform 1.25s var(--transition), filter 3s var(--transition), width 1.25s var(--transition);
    will-change: transform, filter, rotateX, width;

    .item-border {
        border-top: 1px;
        border-style: solid;
        border-color: #00000033;
    }

    &:last-child {
        .item-border {
            border-bottom: 1px;
        }
    }
}

.item::before, .item::after{
    content: '';
    position: absolute;
    width: 100%;
    height: 50px;
    top: calc(var(--index) * -1);
}

.item::after{
    bottom: calc(var(--index) * -1);
}

.items .item:hover{
    filter: inherit;
    transform: translateZ(calc(var(--index) * 2));
    background-color: #FFF;
}

/*Right*/

.items .item:hover + *{
    filter: inherit;
    transform: translateZ(calc(var(--index) * 2.5)) rotateX(-25deg);
    z-index: -1;
}

.items .item:hover + * + *{
    filter: inherit;
    transform: translateZ(calc(var(--index) * 0.6)) rotateX(-30deg);
    z-index: -2;
}

.items .item:hover + * + * + *{
    filter: inherit;
    transform: translateZ(calc(var(--index) * 0.1)) rotateX(-20deg);
    z-index: -3;
}

.items .item:hover + * + * + * + *{
    filter: inherit;
    transform: translateZ(calc(var(--index) * 0)) rotateX(-5deg);
    z-index: -4;
}


/*Left*/

.items .item:has( + :hover){
    filter: inherit;
    transform: translateZ(calc(var(--index) * 2.5)) rotateX(25deg);
}

.items .item:has( + * + :hover){
    filter: inherit;
    transform: translateZ(calc(var(--index) * 0.6)) rotateX(30deg);
}

.items .item:has( + * + * + :hover){
    filter: inherit;
    transform: translateZ(calc(var(--index) * 0.1)) rotateX(20deg);
}

.items .item:has( + * + * + * + :hover){
    filter: inherit;
    transform: translateZ(calc(var(--index) * 0)) rotateX(5deg);
}

.items .item.active {
	
	z-index: 100;
	transform: translateZ(calc(var(--index) * 2));

    background-color: #FFF;

}