@use 'variables' as *;
@use 'mixins' as *;



.mainButtonWrap {
  @apply xl:w-[250px] xss:w-[280px] w-[260px] xl:mx-0 mx-auto;
}

.mainButton {
  @include btn();
  @apply justify-center w-full m:flex items-center relative overflow-hidden bg-[#34446D] text-[#FFF] m:flex items-center gap-[10px] rounded-[4px] border-[#34446D] border border-solid;
}

.btnText {
  @include btn();
}

.borderButton {
  @apply min-h-[50px] w-full items-center flex justify-between items-center w-full rounded-[4px] border-solid hover:bg-[#34446d33] hover:border-[#34446D] border-[transparent] border;

  padding: 10px 11px;
  text-align: left;
  display: flex;
  justify-content: space-between;
  position: relative;
  z-index: 0;

  &.active {
    box-shadow: inset 2px 2px 4px 0 rgba(0, 0, 0, 0.5), inset -2px -2px 4px 0 rgba(0, 0, 0, 0.5);
    background: #5b6788;
    color: #fff;
  }

  &.have-img {
    padding: 5px;
    height: 70px;

    img {
      border-radius: 3px;
      border-width: 1px;
      border-style: solid;
      border-color: rgb(164 164 164);
    }
  }


  &:hover::before {
    border-color: transparent;
  }


  &::before {
    content: '';
    position: absolute;
    top: -1px;
    bottom: -1px;
    left: 5px;
    right: 5px;
    z-index: -1;
    border-bottom: 1px solid;
    border-color: #93969d;
  }

  &.active::before,
  &:active::before {
    border-color: transparent;
  }

  &.first-child::before {
    border-top: 1px solid;
  }

}

.tariffWrap {
  perspective: 200px;
  position: relative;
  z-index: 2;
  max-width: 100%;
}



.tariff:hover::before,
.tariff:hover::after {
  opacity: 1;
}

.tariff {
  width: 100%;
  font-weight: 300;
  z-index: 1;
  cursor: pointer;
  box-sizing: border-box;

  &:not(.notBackdrop) {
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
  }


  backface-visibility: hidden;
  will-change: transform;

  text-rendering: optimizeLegibility;


  backface-visibility: hidden;

  &:not(.noTransitions) {
    transition: all 0.1s ease;
  }

  &.noTransitions {
    transition: transform 0.1s ease;
  }



  transform: translateZ(0);
}

.tariff:active,
.tariff.fast-click {

  transform: scale(0.9) rotateY(var(--y)) translateZ(10px) !important;
}

.btnIconAn {
  display: flex;
  gap: 15px;
  align-items: center;
  height: 50px;

  .sendIconLeft {
    @apply block duration-100 transition-all ease-in translate-x-0 xl:translate-x-[-10%] xl:opacity-0 min-w-[16px] w-[16px] flex justify-end;
  }



  .sendText {
    @apply block duration-100 transition-all relative ease-in xl:left-[5.5%] -translate-y-[1px] left-0;
    line-height: .5;
  }

  &.width_23 {
    .sendIconLeft {
      @apply min-w-[23px] w-[23px];
    }



    .sendText {
      @apply xl:left-[6.6%];
    }
  }

  &:hover {

    .sendText {
      @apply xl:left-0
    }


    .sendIconLeft {
      @apply xl:translate-x-0 xl:opacity-100;
    }

  }

}



.lineAfter {

  &.stopColor {
    color: inherit !important;

    &:after {
      border-color: #FFF !important;
    }
  }

  // Многострочный режим — скрываем стандартный ::after, 
  // т.к. отдельные линии рендерятся через JS
  &.multiline {
    &:after {
      display: none;
    }

    // Активное состояние — линии видны
    &.active .lineAfterLine {
      clip-path: inset(0 0 0 0);
    }
  }

  // Hover из родительского lineAfterBox для многострочных линий
  &Box:hover .lineAfter.multiline:not(.noactive) .lineAfterLine {
    clip-path: inset(0 0 0 0);
  }

  // Hover на самом элементе
  &.multiline:not(.noactive):hover .lineAfterLine {
    clip-path: inset(0 0 0 0);
  }

  --rule-path: inset(0 0 0 100%);

  &.right {
    --rule-path: inset(0 100% 0 0);
  }



  transition: transform .1s ease;
  will-change: color,
  clip-path;
  position: relative;

  &.active {
    @apply text-[#34446D];

    &:after {
      clip-path: inset(0 0 0 0);
    }
  }

  &Box {
    &:hover {
      .lineAfter:not(.noactive) {
        @apply text-[#34446D];

        &:after {
          clip-path: inset(0 0 0 0);
        }
      }

    }
  }

  &:after {
    content: "";
    border-bottom: 1px solid;
    border-color: #34446D;
    transition: clip-path .2s ease, border-color .2s ease;

    z-index: -1;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: -1px;
    clip-path: var(--rule-path);
  }

  &:not(.noactive):hover {
    @apply text-[#34446D];

    &::after {
      clip-path: inset(0 0 0 0);
    }
  }
}

// Отдельные линии для многострочного подчеркивания
// Определяем на верхнем уровне для корректного экспорта CSS-модулем
.lineAfterLine {
  clip-path: inset(0 0 0 100%);
  transition: clip-path .2s ease;
}