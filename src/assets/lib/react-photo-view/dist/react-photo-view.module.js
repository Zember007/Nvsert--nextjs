import{jsx as n,jsxs as e,Fragment as t}from"react/jsx-runtime";import{useRef as r,useReducer as i,createContext as o,useEffect as a,useLayoutEffect as c,useMemo as u,useCallback as l,useState as s,useContext as d,useImperativeHandle as v,Children as h,cloneElement as f}from"react";import{createPortal as m}from"react-dom";function g(){return g=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},g.apply(null,arguments)}function p(n,e){if(null==n)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(-1!==e.indexOf(r))continue;t[r]=n[r]}return t}function w(n){var e=r({fn:n,curr:void 0}).current;if(e.fn=n,!e.curr){var t=Object.create(null);Object.keys(n).forEach(function(n){t[n]=function(){var t;return(t=e.fn[n]).call.apply(t,[e.fn].concat([].slice.call(arguments)))}}),e.curr=t}return e.curr}function y(n){return i(function(n,e){return g({},n,"function"==typeof e?e(n):e)},n)}var b=o(void 0),x="cubic-bezier(0.25, 0.8, 0.25, 1)",C="undefined"!=typeof window&&"ontouchstart"in window,k=function(n,e,t){return Math.max(Math.min(n,t),e)},_=function(n,e,t){return void 0===e&&(e=0),void 0===t&&(t=0),k(n,1*(1-t),Math.max(6,e)*(1+t))},P="undefined"==typeof window||/ServerSideRendering/.test(navigator&&navigator.userAgent)?a:c;function N(n,e,t){var i=r(e);i.current=e,a(function(){function e(n){i.current(n)}return n&&window.addEventListener(n,e,t),function(){n&&window.removeEventListener(n,e)}},[n])}var M=["container"];function S(e){var t=e.container,r=void 0===t?document.body:t,i=p(e,M);return m(n("div",g({},i)),r)}function Y(t){return e("button",g({},t,{children:[e("div",{className:"in",children:[n("div",{className:"close-button-block"}),n("div",{className:"close-button-block"})]}),e("div",{className:"out",children:[n("div",{className:"close-button-block"}),n("div",{className:"close-button-block"})]})]}))}function X(e){return n("svg",g({width:"44",height:"44",viewBox:"0 0 768 768"},e,{children:n("path",{d:"M640.5 352.5v63h-390l178.5 180-45 45-256.5-256.5 256.5-256.5 45 45-178.5 180h390z"})}))}function W(e){return n("svg",g({width:"44",height:"44",viewBox:"0 0 768 768"},e,{children:n("path",{d:"M384 127.5l256.5 256.5-256.5 256.5-45-45 178.5-180h-390v-63h390l-178.5-180z"})}))}function T(){return a(function(){var n=document.body.style,e=n.overflow;return n.overflow="hidden",function(){n.overflow=e}},[]),null}function V(n){var e=n.touches[0],t=e.clientX,r=e.clientY;if(n.touches.length>=2){var i=n.touches[1],o=i.clientX,a=i.clientY;return[(t+o)/2,(r+a)/2,Math.sqrt(Math.pow(o-t,2)+Math.pow(a-r,2))]}return[t,r,0]}var A=function(n,e,t,r){var i,o=t*e,a=(o-r)/2,c=n;return o<=r?(i=1,c=0):n>0&&a-n<=0?(i=2,c=a):n<0&&a+n<=0&&(i=3,c=-a),[i,c]};function R(n,e,t,r,i,o,a,c,u,l){void 0===a&&(a=innerWidth/2),void 0===c&&(c=innerHeight/2),void 0===u&&(u=0),void 0===l&&(l=0);var s=A(n,o,t,innerWidth)[0],d=A(e,o,r,innerHeight),v=innerWidth/2,h=innerHeight/2;return{x:a-o/i*(a-(v+n))-v+(r/t>=3&&t*o===innerWidth?0:s?u/2:u),y:c-o/i*(c-(h+e))-h+(d[0]?l/2:l),lastCX:a,lastCY:c}}function E(n,e,t){var r=n%180!=0;return r?[t,e,r]:[e,t,r]}function L(n,e,t){var r=E(t,innerWidth,innerHeight),i=r[0],o=r[1],a=0,c=i,u=o,l=n/e*o,s=e/n*i;return n<i&&e<o?(c=n,u=e):n<i&&e>=o?c=l:n>=i&&e<o||n/e>i/o?u=s:e/n>=3&&!r[2]?a=((u=s)-o)/2:c=l,c>448&&(c=448,u=e/n*448),{width:c,height:u,x:0,y:a,pause:!0}}function I(n,e){var t=e.leading,i=void 0!==t&&t,o=e.maxWait,a=e.wait,c=void 0===a?o||0:a,u=r(n);u.current=n;var s=r(0),d=r(null),v=function(){return d.current&&clearTimeout(d.current)},h=l(function(){var n=[].slice.call(arguments),e=Date.now();function t(){s.current=e,v(),u.current.apply(null,n)}var r=s.current,a=e-r;if(0===r&&(i&&t(),s.current=e),void 0!==o){if(a>o)return void t()}else a<c&&(s.current=e);v(),d.current=setTimeout(function(){t(),s.current=0},c)},[c,o,i]);return h.cancel=v,h}var H=function(n,e,t){return O(n,e,t,100,function(n){return n},function(){return O(e,n,t)})},D=function(n){return 1-Math.pow(1-n,4)};function O(n,e,t,r,i,o){void 0===r&&(r=400),void 0===i&&(i=D);var a=e-n;if(0!==a){var c=Date.now(),u=0,l=function(){var e=Math.min(1,(Date.now()-c)/r);t(n+i(e)*a)&&e<1?s():(cancelAnimationFrame(u),e>=1&&o&&o())};s()}function s(){u=requestAnimationFrame(l)}}var F={T:0,L:0,W:0,H:0,FIT:void 0},B=function(){var n=r(!1);return a(function(){return n.current=!0,function(){n.current=!1}},[]),n},q=["className"];function j(t){var r=t.className,i=void 0===r?"":r,o=p(t,q);return n("div",g({className:"PhotoView__Spinner "+i},o,{children:e("svg",{viewBox:"0 0 32 32",width:"36",height:"36",fill:"white",children:[n("path",{opacity:".25",d:"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"}),n("path",{d:"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z"})]})}))}var z=["src","loaded","broken","className","onPhotoLoad","loadingElement","brokenElement"];function K(r){var i=r.src,o=r.loaded,a=r.broken,c=r.className,u=r.onPhotoLoad,l=r.loadingElement,s=r.brokenElement,d=p(r,z),v=B();return i&&!a?e(t,{children:[n("div",{className:"PhotoView__Photo__attr",children:n("img",g({className:"PhotoView__Photo"+(c?" "+c:""),src:i,onLoad:function(n){var e=n.target;v.current&&u({loaded:!0,naturalWidth:e.naturalWidth,naturalHeight:e.naturalHeight})},onError:function(){v.current&&u({broken:!0})},draggable:!1,alt:"document"},d))}),!o&&(l?n("span",{className:"PhotoView__icon",children:l}):n(j,{className:"PhotoView__icon"}))]}):s?n("span",{className:"PhotoView__icon",children:"function"==typeof s?s({src:i}):s}):null}var G={naturalWidth:void 0,naturalHeight:void 0,width:void 0,height:void 0,loaded:void 0,broken:!1,x:0,y:0,touched:!1,maskTouched:!1,rotate:0,scale:1,CX:0,CY:0,lastX:0,lastY:0,lastCX:0,lastCY:0,lastScale:1,touchTime:0,touchLength:0,pause:!0,stopRaf:!0,reach:void 0};function U(e){var t=e.item,i=t.src,o=t.render,c=t.width,u=void 0===c?0:c,l=t.height,d=void 0===l?0:l,v=t.originRef,h=e.visible,f=e.speed,m=e.easing,p=e.wrapClassName,b=e.className,x=e.style,k=e.loadingElement,M=e.brokenElement,S=e.onPhotoTap,Y=e.onMaskTap,X=e.onReachMove,W=e.onReachUp,T=e.onPhotoResize,D=e.isActive,q=e.expose,j=y(G),z=j[0],U=j[1],J=r(0),Q=B(),Z=z.naturalWidth,$=void 0===Z?u:Z,nn=z.naturalHeight,en=void 0===nn?d:nn,tn=z.width,rn=void 0===tn?u:tn,on=z.height,an=void 0===on?d:on,cn=z.loaded,un=void 0===cn?!i:cn,ln=z.broken,sn=z.x,dn=z.y,vn=z.touched,hn=z.stopRaf,fn=z.maskTouched,mn=z.rotate,gn=z.scale,pn=z.CX,wn=z.CY,yn=z.lastX,bn=z.lastY,xn=z.lastCX,Cn=z.lastCY,kn=z.lastScale,_n=z.touchTime,Pn=z.touchLength,Nn=z.pause,Mn=z.reach,Sn=w({onScale:function(n){return Yn(_(n))},onRotate:function(n){mn!==n&&(q({rotate:n}),U(g({rotate:n},L($,en,n))))}});function Yn(n,e,t){gn!==n&&(q({scale:n}),U(g({scale:n},R(sn,dn,rn,an,gn,n,e,t),n<=1&&{x:0,y:0})))}var Xn=I(function(n,e,t){if(void 0===t&&(t=0),(vn||fn)&&D){var r=E(mn,rn,an),i=r[0],o=r[1];if(0===t&&0===J.current){var a=Math.abs(n-pn)<=20,c=Math.abs(e-wn)<=20;if(a&&c)return void U({lastCX:n,lastCY:e});J.current=a?e>wn?3:2:1}var u,l=n-xn,s=e-Cn;if(0===t){var d=A(l+yn,gn,i,innerWidth)[0],v=A(s+bn,gn,o,innerHeight);u=function(n,e,t,r){return e&&1===n||"x"===r?"x":t&&n>1||"y"===r?"y":void 0}(J.current,d,v[0],Mn),void 0!==u&&X(u,n,e,gn)}if("x"===u||fn)return void U({reach:"x"});var h=_(gn+(t-Pn)/100/2*gn,$/rn,.2);q({scale:h}),U(g({touchLength:t,reach:u,scale:h},R(sn,dn,rn,an,gn,h,n,e,l,s)))}},{maxWait:8});function Wn(n){return!hn&&!vn&&(Q.current&&U(g({},n,{pause:h})),Q.current)}var Tn,Vn,An,Rn,En,Ln,In,Hn,Dn=(En=function(n){return Wn({x:n})},Ln=function(n){return Wn({y:n})},In=function(n){return Q.current&&(q({scale:n}),U({scale:n})),!vn&&Q.current},Hn=w({X:function(n){return En(n)},Y:function(n){return Ln(n)},S:function(n){return In(n)}}),function(n,e,t,r,i,o,a,c,u,l,s){var d=E(l,i,o),v=d[0],h=d[1],f=A(n,c,v,innerWidth),m=f[0],g=f[1],p=A(e,c,h,innerHeight),w=p[0],y=p[1],b=Date.now()-s;if(b>=200||c!==a||Math.abs(u-a)>1){var x=R(n,e,i,o,a,c),C=x.x,k=x.y,_=m?g:C!==n?C:null,P=w?y:k!==e?k:null;return null!==_&&O(n,_,Hn.X),null!==P&&O(e,P,Hn.Y),void(c!==a&&O(a,c,Hn.S))}var N=(n-t)/b,M=(e-r)/b,S=Math.sqrt(Math.pow(N,2)+Math.pow(M,2)),Y=!1,X=!1;!function(n,e){var t,r=n,i=0,o=0,a=function(o){t||(t=o);var a=o-t,l=Math.sign(n),s=-.001*l,d=Math.sign(-r)*Math.pow(r,2)*2e-4,v=r*a+(s+d)*Math.pow(a,2)/2;i+=v,t=o,l*(r+=(s+d)*a)<=0?u():e(i)?c():u()};function c(){o=requestAnimationFrame(a)}function u(){cancelAnimationFrame(o)}c()}(S,function(t){var r=n+t*(N/S),i=e+t*(M/S),o=A(r,a,v,innerWidth),c=o[0],u=o[1],l=A(i,a,h,innerHeight),s=l[0],d=l[1];if(c&&!Y&&(Y=!0,m?O(r,u,Hn.X):H(u,r+(r-u),Hn.X)),s&&!X&&(X=!0,w?O(i,d,Hn.Y):H(d,i+(i-d),Hn.Y)),Y&&X)return!1;var f=Y||Hn.X(u),g=X||Hn.Y(d);return f&&g})}),On=(Tn=S,Vn=function(n,e){Mn||Yn(1!==gn?1:Math.max(2,$/rn),n,e)},An=r(0),Rn=I(function(){An.current=0,Tn.apply(void 0,[].slice.call(arguments))},{wait:300}),function(){var n=[].slice.call(arguments);An.current+=1,Rn.apply(void 0,n),An.current>=2&&(Rn.cancel(),An.current=0,Vn.apply(void 0,n))});function Fn(n,e){if(J.current=0,(vn||fn)&&D){U({touched:!1,maskTouched:!1,pause:!1,stopRaf:!1,reach:void 0});var t=_(gn,$/rn);if(Dn(sn,dn,yn,bn,rn,an,gn,t,kn,mn,_n),W(n,e),pn===n&&wn===e){if(vn)return void On(n,e);fn&&Y(n,e)}}}function Bn(n,e,t){void 0===t&&(t=0),U({touched:!0,CX:n,CY:e,lastCX:n,lastCY:e,lastX:sn,lastY:dn,lastScale:gn,touchLength:t,touchTime:Date.now()})}function qn(n){U({maskTouched:!0,CX:n.clientX,CY:n.clientY,lastX:sn,lastY:dn})}N(C?void 0:"mousemove",function(n){n.preventDefault(),Xn(n.clientX,n.clientY)}),N(C?void 0:"mouseup",function(n){Fn(n.clientX,n.clientY)}),N(C?"touchmove":void 0,function(n){n.preventDefault();var e=V(n);Xn.apply(void 0,e)},{passive:!1}),N(C?"touchend":void 0,function(n){var e=n.changedTouches[0];Fn(e.clientX,e.clientY)},{passive:!1}),N("resize",I(function(){un&&!vn&&(U(L($,en,mn)),T())},{maxWait:8})),P(function(){D&&q(g({scale:gn,rotate:mn},Sn))},[D]);var jn=function(n,e,t,i,o,c,u,l,d,v){var h=function(n,e,t,i,o){var a=r(!1),c=y({lead:!0,scale:t}),u=c[0],l=u.lead,s=u.scale,d=c[1],v=I(function(n){try{return o(!0),d({lead:!1,scale:n}),Promise.resolve()}catch(n){return Promise.reject(n)}},{wait:i});return P(function(){a.current?(o(!1),d({lead:!0}),v(t)):a.current=!0},[t]),l?[n*s,e*s,t/s]:[n*t,e*t,1]}(c,u,l,d,v),f=h[0],m=h[1],g=h[2],p=function(n,e,t,i,o){var c=s(F),u=c[0],l=c[1],d=s(0),v=d[0],h=d[1],f=r(null),m=w({OK:function(){return n&&h(4)}});function g(n){o(!1),h(n)}return a(function(){if(f.current||(f.current=Date.now()),t){if(function(n,e){var t=n&&n.current;if(t&&1===t.nodeType){var r=t.getBoundingClientRect();e({T:r.top,L:r.left,W:r.width,H:r.height,FIT:"IMG"===t.tagName?getComputedStyle(t).objectFit:void 0})}}(e,l),n)return Date.now()-f.current<250?(h(1),requestAnimationFrame(function(){h(2),requestAnimationFrame(function(){return g(3)})}),void setTimeout(m.OK,i)):void h(4);g(5)}},[n,t]),[v,u]}(n,e,t,d,v),b=p[0],x=p[1],C=x.W,k=x.FIT,_=innerWidth/2,N=innerHeight/2,M=b<3||b>4;return[M?C?x.L:_:i+(_-c*l/2),M?C?x.T:N:o+(N-u*l/2),f,M&&k?f*(x.H/C):m,0===b?g:M?C/(c*l)||.01:g,M?k?1:0:1,b,k]}(h,v,un,sn,dn,rn,an,gn,f,function(n){return U({pause:n})}),zn=jn[4],Kn=jn[6],Gn="transform "+f+"ms "+m,Un={className:b,onMouseDown:C?void 0:function(n){n.stopPropagation(),0===n.button&&Bn(n.clientX,n.clientY,0)},onTouchStart:C?function(n){n.stopPropagation(),Bn.apply(void 0,V(n))}:void 0,onWheel:function(n){if(!Mn){var e=_(gn-n.deltaY/100/2,$/rn);U({stopRaf:!0}),Yn(e,n.clientX,n.clientY)}},style:{width:jn[2]+"px",height:jn[3]+"px",opacity:jn[5],objectFit:4===Kn?void 0:jn[7],transform:mn?"rotate("+mn+"deg)":void 0,transition:Kn>2?Gn+", opacity "+f+"ms ease, height "+(Kn<4?f/2:Kn>4?f:0)+"ms "+m:void 0}};return n("div",{className:"PhotoView__PhotoWrap"+(p?" "+p:""),style:x,onMouseDown:!C&&D?qn:void 0,onTouchStart:C&&D?function(n){return qn(n.touches[0])}:void 0,children:n("div",{className:"PhotoView__PhotoBox",style:{transform:"matrix("+zn+", 0, 0, "+zn+", "+jn[0]+", 100)",transition:vn||Nn?void 0:Gn,willChange:D?"transform":void 0},children:i?n(K,g({src:i,loaded:un,broken:ln},Un,{onPhotoLoad:function(n){U(g({},n,n.loaded&&L(n.naturalWidth||0,n.naturalHeight||0,mn)))},loadingElement:k,brokenElement:M})):o&&o({attrs:Un,scale:zn,rotate:mn})})})}var J={x:0,touched:!1,pause:!1,lastCX:void 0,lastCY:void 0,bg:void 0,lastBg:void 0,overlay:!0,minimal:!0,scale:1,rotate:0};function Q(o){var c=o.loop,l=void 0===c?3:c,d=o.speed,v=o.easing,h=o.photoClosable,f=o.maskClosable,m=void 0===f||f,g=o.maskOpacity,p=void 0===g?1:g,b=o.bannerVisible,_=void 0===b||b,M=o.overlayRender,V=o.toolbarRender,A=o.className,R=o.maskClassName,E=o.photoClassName,L=o.photoWrapClassName,I=o.loadingElement,H=o.brokenElement,D=o.images,O=o.index,F=void 0===O?0:O,B=o.onIndexChange,q=o.visible,j=o.onClose,z=o.afterClose,K=o.portalContainer,G=y(J),Q=G[0],Z=G[1],$=s(0),nn=$[0],en=$[1];s(null);var tn=Q.x,rn=Q.touched,on=Q.pause,an=Q.bg,cn=void 0===an?p:an,un=Q.lastBg,ln=Q.overlay,sn=Q.scale,dn=Q.rotate,vn=Q.onScale,hn=Q.onRotate,fn=o.hasOwnProperty("index"),mn=fn?F:nn,gn=fn?B:en,pn=r(mn),wn=D.length,yn=D[mn],bn="boolean"==typeof l?l:wn>l,xn=function(n,e){var t=i(function(n){return!n},!1)[1],o=r(0),a=function(e){var t=r(e);function i(n){t.current=n}return u(function(){!function(e){n?(e(n),o.current=1):o.current=2}(i)},[e]),[t.current,i]}(n),c=a[1];return[a[0],o.current,function(){t(),2===o.current&&(c(!1),e&&e()),o.current=0}]}(q,z),Cn=xn[0],kn=xn[1],_n=xn[2];P(function(){if(Cn)return Z({pause:!0,x:mn*-(innerWidth+20)}),void(pn.current=mn);Z(J)},[Cn]);var Pn=w({close:function(n){hn&&hn(0),Z({overlay:!0,lastBg:cn}),j(n)},changeIndex:function(n,e){void 0===e&&(e=!1);var t=bn?pn.current+(n-mn):n,r=wn-1,i=k(t,0,r),o=bn?t:i,a=innerWidth+20;Z({touched:!1,x:-a*pn.current,lastCX:void 0,lastCY:void 0,bg:p,overlay:ln}),Z({touched:!1,lastCX:void 0,lastCY:void 0,x:-a*o,pause:e}),pn.current=o,gn&&gn(bn?n<0?r:n>r?0:n:i)}}),Nn=Pn.close,Mn=Pn.changeIndex;function Sn(n){return n?Nn():Z({overlay:!ln})}function Yn(){Z({x:-(innerWidth+20)*mn,lastCX:void 0,lastCY:void 0,pause:!0}),pn.current=mn}N("keydown",function(n){if(q)switch(n.key){case"ArrowLeft":Mn(mn-1,!0);break;case"ArrowRight":Mn(mn+1,!0);break;case"Escape":Nn()}});var Xn=function(n,e,t){return u(function(){var r=n.length;return t?n.concat(n).concat(n).slice(r+e-1,r+e+2):n.slice(Math.max(e-1,0),Math.min(e+2,r+1))},[n,e,t])}(D,mn,bn);if(a(function(){setTimeout(function(){var n;null==(n=document.querySelector(".Slider_scale"))||n.classList.remove("slider-transitions")},100)},[mn]),!Cn)return null;var Wn=ln&&!kn,Tn=q?cn:un,Vn=vn&&hn&&{images:D,index:mn,visible:q,onClose:Nn,onIndexChange:Mn,overlayVisible:Wn,overlay:yn&&yn.overlay,scale:sn,rotate:dn,onScale:vn,onRotate:hn},An=d?d(kn):400,Rn=v?v(kn):x,En=d?d(3):600,Ln=v?v(3):x;return e(S,{className:"PhotoView-Portal"+(Wn?"":" PhotoView-Slider__clean")+(q?"":" PhotoView-Slider__willClose")+(A?" "+A:""),role:"dialog",onClick:function(n){return n.stopPropagation()},container:K,children:[q&&n(T,{}),n("div",{className:"PhotoView-Slider__Backdrop"+(R?" "+R:"")+(1===kn?" PhotoView-Slider__fadeIn":2===kn?" PhotoView-Slider__fadeOut":""),style:{background:Tn?"rgba(0, 0, 0, "+Tn+")":void 0,transitionTimingFunction:Rn,transitionDuration:(rn?0:An)+"ms",animationDuration:An+"ms"},onAnimationEnd:_n}),_&&e("div",{className:"PhotoView-Slider__BannerWrap",children:[e("div",{className:"PhotoView-Slider__Counter",children:[mn+1," / ",wn]}),e("div",{className:"PhotoView-Slider__BannerRight",children:[V&&Vn&&V(Vn),n(Y,{className:"close",onClick:Nn})]})]}),n("div",{className:"Slider_scale",children:Xn.map(function(e,t){var r=bn||0!==mn?pn.current-1+t:mn+t;return n(U,{item:e,speed:An,easing:Rn,visible:q,onPhotoTap:function(){return Sn(h)},onMaskTap:function(){return Sn(m)},wrapClassName:L,className:E,style:{left:(innerWidth+20)*r+"px",transform:"translate3d("+tn+"px, 0px, 0)",transition:rn||on?void 0:"transform "+En+"ms "+Ln},loadingElement:I,brokenElement:H,onPhotoResize:Yn,isActive:pn.current===r,expose:Z},bn?e.key+"/"+e.src+"/"+r:e.key)})}),!C&&_&&e(t,{children:[(bn||0!==mn)&&n("div",{className:"PhotoView-Slider__ArrowLeft",onClick:function(){var n;null==(n=document.querySelector(".Slider_scale"))||n.classList.add("slider-transitions"),Mn(mn-1)},children:n(X,{})}),(bn||mn+1<wn)&&n("div",{className:"PhotoView-Slider__ArrowRight",onClick:function(){var n;null==(n=document.querySelector(".Slider_scale"))||n.classList.add("slider-transitions"),Mn(mn+1)},children:n(W,{})})]}),M&&Vn&&n("div",{className:"PhotoView-Slider__Overlay",children:M(Vn)})]})}var Z=["children","onIndexChange","onVisibleChange"],$={images:[],visible:!1,index:0};function nn(t){var i=t.children,o=t.onIndexChange,a=t.onVisibleChange,c=p(t,Z),l=y($),s=l[0],d=l[1],v=r(0),h=s.images,f=s.visible,m=s.index,x=w({nextId:function(){return v.current+=1},update:function(n){var e=h.findIndex(function(e){return e.key===n.key});if(e>-1){var t=h.slice();return t.splice(e,1,n),void d({images:t})}d(function(e){return{images:e.images.concat(n)}})},remove:function(n){d(function(e){var t=e.images.filter(function(e){return e.key!==n});return{images:t,index:Math.min(t.length-1,m)}})},show:function(n){var e=h.findIndex(function(e){return e.key===n});d({visible:!0,index:e}),a&&a(!0,e,s)}}),C=w({close:function(){d({visible:!1}),a&&a(!1,m,s)},changeIndex:function(n){d({index:n}),o&&o(n,s)}}),k=u(function(){return g({},s,x)},[s,x]);return e(b.Provider,{value:k,children:[i,n(Q,g({images:h,visible:f,index:m,onIndexChange:C.changeIndex,onClose:C.close},c))]})}var en=function(n){var e,t,i=n.src,o=n.render,c=n.overlay,l=n.width,s=n.height,m=n.triggers,p=void 0===m?["onClick"]:m,y=n.children,x=d(b),C=(e=function(){return x.nextId()},(t=r({sign:!1,fn:void 0}).current).sign||(t.sign=!0,t.fn=e()),t.fn),k=r(null);v(null==y?void 0:y.ref,function(){return k.current}),a(function(){return function(){x.remove(C)}},[]);var _=w({render:function(n){return o&&o(n)},show:function(n,e){x.show(C),function(n,e){if(y){var t=y.props[n];t&&t(e)}}(n,e)}}),P=u(function(){var n={};return p.forEach(function(e){n[e]=_.show.bind(null,e)}),n},[]);return a(function(){x.update({key:C,src:i,originRef:k,render:_.render,overlay:c,width:l,height:s})},[i]),y?h.only(f(y,g({},P,{ref:k}))):null};export{nn as PhotoProvider,Q as PhotoSlider,en as PhotoView};
//# sourceMappingURL=react-photo-view.module.js.map
