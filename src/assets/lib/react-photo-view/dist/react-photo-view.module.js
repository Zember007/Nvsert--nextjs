import e,{useRef as n,useReducer as t,createContext as r,useEffect as o,useLayoutEffect as i,useMemo as a,useCallback as c,useState as l,useContext as u,Children as s,cloneElement as d}from"react";import{createPortal as v}from"react-dom";function f(){return f=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},f.apply(null,arguments)}function h(e,n){if(null==e)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==n.indexOf(r))continue;t[r]=e[r]}return t}function m(e){var t=n({fn:e,curr:void 0}).current;if(t.fn=e,!t.curr){var r=Object.create(null);Object.keys(e).forEach(function(e){r[e]=function(){var n;return(n=t.fn[e]).call.apply(n,[t.fn].concat([].slice.call(arguments)))}}),t.curr=r}return t.curr}function g(e){return t(function(e,n){return f({},e,"function"==typeof n?n(e):n)},e)}var p=r(void 0),w="cubic-bezier(0.25, 0.8, 0.25, 1)",b=20,_="undefined"!=typeof window&&"ontouchstart"in window,y=function(e,n,t){return Math.max(Math.min(e,t),n)},C=function(e,n,t){return void 0===n&&(n=0),void 0===t&&(t=0),y(e,1*(1-t),Math.max(6,n)*(1+t))},x="undefined"==typeof window||/ServerSideRendering/.test(navigator&&navigator.userAgent)?o:i;function E(e,t,r){var i=n(t);i.current=t,o(function(){function n(e){i.current(e)}return e&&window.addEventListener(e,n,r),function(){e&&window.removeEventListener(e,n)}},[e])}var P=["container"];function k(n){var t=n.container,r=void 0===t?document.body:t,o=h(n,P);return v(e.createElement("div",f({},o)),r)}function M(n){return e.createElement("button",f({},n),e.createElement("div",{className:"in"},e.createElement("div",{className:"close-button-block"}),e.createElement("div",{className:"close-button-block"})),e.createElement("div",{className:"out"},e.createElement("div",{className:"close-button-block"}),e.createElement("div",{className:"close-button-block"})))}function N(n){return e.createElement("svg",f({width:"44",height:"44",viewBox:"0 0 768 768"},n),e.createElement("path",{d:"M640.5 352.5v63h-390l178.5 180-45 45-256.5-256.5 256.5-256.5 45 45-178.5 180h390z"}))}function X(n){return e.createElement("svg",f({width:"44",height:"44",viewBox:"0 0 768 768"},n),e.createElement("path",{d:"M384 127.5l256.5 256.5-256.5 256.5-45-45 178.5-180h-390v-63h390l-178.5-180z"}))}function Y(){return o(function(){var e=document.body.style,n=e.overflow;return e.overflow="hidden",function(){e.overflow=n}},[]),null}function W(e){var n=e.touches[0],t=n.clientX,r=n.clientY;if(e.touches.length>=2){var o=e.touches[1],i=o.clientX,a=o.clientY;return[(t+i)/2,(r+a)/2,Math.sqrt(Math.pow(i-t,2)+Math.pow(a-r,2))]}return[t,r,0]}var V=function(e,n,t,r){var o,i=t*n,a=(i-r)/2,c=e;return i<=r?(o=1,c=0):e>0&&a-e<=0?(o=2,c=a):e<0&&a+e<=0&&(o=3,c=-a),[o,c]};function S(e,n,t,r,o,i,a,c,l,u){void 0===a&&(a=innerWidth/2),void 0===c&&(c=innerHeight/2),void 0===l&&(l=0),void 0===u&&(u=0);var s=V(e,i,t,innerWidth)[0],d=V(n,i,r,innerHeight),v=innerWidth/2,f=innerHeight/2;return{x:a-i/o*(a-(v+e))-v+(r/t>=3&&t*i===innerWidth?0:s?l/2:l),y:c-i/o*(c-(f+n))-f+(d[0]?u/2:u),lastCX:a,lastCY:c}}function T(e,n,t){var r=e%180!=0;return r?[t,n,r]:[n,t,r]}function R(e,n,t){var r=T(t,innerWidth,innerHeight),o=r[0],i=r[1],a=0,c=o,l=i,u=e/n*i,s=n/e*o;return e<o&&n<i?(c=e,l=n):e<o&&n>=i?c=u:e>=o&&n<i||e/n>o/i?l=s:n/e>=3&&!r[2]?a=((l=s)-i)/2:c=u,c>448?(c=448,l=n/e*448):l=n/e*(c-=30),{width:c,height:l,x:0,y:a,pause:!0}}function L(e,t){var r=t.leading,o=void 0!==r&&r,i=t.maxWait,a=t.wait,l=void 0===a?i||0:a,u=n(e);u.current=e;var s=n(0),d=n(null),v=function(){return d.current&&clearTimeout(d.current)},f=c(function(){var e=[].slice.call(arguments),n=Date.now();function t(){s.current=n,v(),u.current.apply(null,e)}var r=s.current,a=n-r;if(0===r&&(o&&t(),s.current=n),void 0!==i){if(a>i)return void t()}else a<l&&(s.current=n);v(),d.current=setTimeout(function(){t(),s.current=0},l)},[l,i,o]);return f.cancel=v,f}var A=function(e,n,t){return H(e,n,t,100,function(e){return e},function(){return H(n,e,t)})},I=function(e){return 1-Math.pow(1-e,4)};function H(e,n,t,r,o,i){void 0===r&&(r=400),void 0===o&&(o=I);var a=n-e;if(0!==a){var c=Date.now(),l=0,u=function(){var n=Math.min(1,(Date.now()-c)/r);t(e+o(n)*a)&&n<1?s():(cancelAnimationFrame(l),n>=1&&i&&i())};s()}function s(){l=requestAnimationFrame(u)}}var B={T:0,L:0,W:0,H:0,FIT:void 0},F=function(){var e=n(!1);return o(function(){return e.current=!0,function(){e.current=!1}},[]),e},D=["className"];function O(n){var t=n.className,r=void 0===t?"":t,o=h(n,D);return e.createElement("div",f({className:"PhotoView__Spinner "+r},o),e.createElement("svg",{viewBox:"0 0 32 32",width:"36",height:"36",fill:"white"},e.createElement("path",{opacity:".25",d:"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"}),e.createElement("path",{d:"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z"})))}var j=["src","loaded","broken","className","onPhotoLoad","loadingElement","brokenElement","title","description"];function z(n){var t=n.src,r=n.loaded,o=n.broken,i=n.className,a=n.onPhotoLoad,c=n.loadingElement,l=n.brokenElement,u=n.title,s=n.description,d=h(n,j),v=F();return t&&!o?e.createElement(e.Fragment,null,e.createElement("div",{className:"PhotoView__Photo__attr "+(!r&&"loaded")},r&&u&&e.createElement("div",{className:"PhotoView__Photo__title"},u),e.createElement("img",f({className:"PhotoView__Photo"+(i?" "+i:""),src:t,onLoad:function(e){var n=e.target;v.current&&a({loaded:!0,naturalWidth:n.naturalWidth,naturalHeight:n.naturalHeight})},onError:function(){v.current&&a({broken:!0})},draggable:!1,alt:"document"},d)),r&&s&&e.createElement("div",{className:"PhotoView__Photo__description"},s)),!r&&(c?e.createElement("span",{className:"PhotoView__icon"},c):e.createElement(O,{className:"PhotoView__icon"}))):l?e.createElement("span",{className:"PhotoView__icon"},"function"==typeof l?l({src:t}):l):null}var q={naturalWidth:void 0,naturalHeight:void 0,width:void 0,height:void 0,loaded:void 0,broken:!1,x:0,y:0,touched:!1,maskTouched:!1,rotate:0,scale:1,CX:0,CY:0,lastX:0,lastY:0,lastCX:0,lastCY:0,lastScale:1,touchTime:0,touchLength:0,pause:!0,stopRaf:!0,reach:void 0};function K(t){var r=t.item,i=r.src,a=r.render,c=r.width,u=void 0===c?0:c,s=r.height,d=void 0===s?0:s,v=r.originRef,h=r.title,p=r.description,w=t.visible,b=t.speed,y=t.easing,P=t.wrapClassName,k=t.className,M=t.style,N=t.loadingElement,X=t.brokenElement,Y=t.onPhotoTap,I=t.onMaskTap,D=t.onReachMove,O=t.onReachUp,j=t.onPhotoResize,K=t.isActive,U=t.expose,G=g(q),J=G[0],Q=G[1],Z=n(0),$=F(),ee=J.naturalWidth,ne=void 0===ee?u:ee,te=J.naturalHeight,re=void 0===te?d:te,oe=J.width,ie=void 0===oe?u:oe,ae=J.height,ce=void 0===ae?d:ae,le=J.loaded,ue=void 0===le?!i:le,se=J.broken,de=J.x,ve=J.y,fe=J.touched,he=J.stopRaf,me=J.maskTouched,ge=J.rotate,pe=J.scale,we=J.CX,be=J.CY,_e=J.lastX,ye=J.lastY,Ce=J.lastCX,xe=J.lastCY,Ee=J.lastScale,Pe=J.touchTime,ke=J.touchLength,Me=J.pause,Ne=J.reach,Xe=m({onScale:function(e){return Ye(C(e))},onRotate:function(e){ge!==e&&(U({rotate:e}),Q(f({rotate:e},R(ne,re,e))))}});function Ye(e,n,t){pe!==e&&(U({scale:e}),Q(f({scale:e},S(de,ve,ie,ce,pe,e,n,t),e<=1&&{x:0,y:0})))}var We=L(function(e,n,t){if(void 0===t&&(t=0),(fe||me)&&K){var r=T(ge,ie,ce),o=r[0],i=r[1];if(0===t&&0===Z.current){var a=Math.abs(e-we)<=20,c=Math.abs(n-be)<=20;if(a&&c)return void Q({lastCX:e,lastCY:n});Z.current=a?n>be?3:2:1}var l,u=e-Ce,s=n-xe;if(0===t){var d=V(u+_e,pe,o,innerWidth)[0],v=V(s+ye,pe,i,innerHeight);l=function(e,n,t,r){return n&&1===e||"x"===r?"x":t&&e>1||"y"===r?"y":void 0}(Z.current,d,v[0],Ne),void 0!==l&&D(l,e,n,pe)}if("x"===l||me)return void Q({reach:"x"});var h=C(pe+(t-ke)/100/2*pe,ne/ie,.2);U({scale:h}),Q(f({touchLength:t,reach:l,scale:h},S(de,ve,ie,ce,pe,h,e,n,u,s)))}},{maxWait:8});function Ve(e){return!he&&!fe&&($.current&&Q(f({},e,{pause:w})),$.current)}var Se,Te,Re,Le,Ae,Ie,He,Be,Fe=(Ae=function(e){return Ve({x:e})},Ie=function(e){return Ve({y:e})},He=function(e){return $.current&&(U({scale:e}),Q({scale:e})),!fe&&$.current},Be=m({X:function(e){return Ae(e)},Y:function(e){return Ie(e)},S:function(e){return He(e)}}),function(e,n,t,r,o,i,a,c,l,u,s){var d=T(u,o,i),v=d[0],f=d[1],h=V(e,c,v,innerWidth),m=h[0],g=h[1],p=V(n,c,f,innerHeight),w=p[0],b=p[1],_=Date.now()-s;if(_>=200||c!==a||Math.abs(l-a)>1){var y=S(e,n,o,i,a,c),C=y.x,x=y.y,E=m?g:C!==e?C:null,P=w?b:x!==n?x:null;return null!==E&&H(e,E,Be.X),null!==P&&H(n,P,Be.Y),void(c!==a&&H(a,c,Be.S))}var k=(e-t)/_,M=(n-r)/_,N=Math.sqrt(Math.pow(k,2)+Math.pow(M,2)),X=!1,Y=!1;!function(e,n){var t,r=e,o=0,i=0,a=function(i){t||(t=i);var a=i-t,u=Math.sign(e),s=-.001*u,d=Math.sign(-r)*Math.pow(r,2)*2e-4,v=r*a+(s+d)*Math.pow(a,2)/2;o+=v,t=i,u*(r+=(s+d)*a)<=0?l():n(o)?c():l()};function c(){i=requestAnimationFrame(a)}function l(){cancelAnimationFrame(i)}c()}(N,function(t){var r=e+t*(k/N),o=n+t*(M/N),i=V(r,a,v,innerWidth),c=i[0],l=i[1],u=V(o,a,f,innerHeight),s=u[0],d=u[1];if(c&&!X&&(X=!0,m?H(r,l,Be.X):A(l,r+(r-l),Be.X)),s&&!Y&&(Y=!0,w?H(o,d,Be.Y):A(d,o+(o-d),Be.Y)),X&&Y)return!1;var h=X||Be.X(l),g=Y||Be.Y(d);return h&&g})}),De=(Se=Y,Te=function(e,n){Ne||Ye(1!==pe?1:Math.max(2,ne/ie),e,n)},Re=n(0),Le=L(function(){Re.current=0,Se.apply(void 0,[].slice.call(arguments))},{wait:300}),function(){var e=[].slice.call(arguments);Re.current+=1,Le.apply(void 0,e),Re.current>=2&&(Le.cancel(),Re.current=0,Te.apply(void 0,e))});function Oe(e,n){if(Z.current=0,(fe||me)&&K){Q({touched:!1,maskTouched:!1,pause:!1,stopRaf:!1,reach:void 0});var t=C(pe,ne/ie);if(Fe(de,ve,_e,ye,ie,ce,pe,t,Ee,ge,Pe),O(e,n),we===e&&be===n){if(fe)return void De(e,n);me&&I(e,n)}}}function je(e,n,t){void 0===t&&(t=0),Q({touched:!0,CX:e,CY:n,lastCX:e,lastCY:n,lastX:de,lastY:ve,lastScale:pe,touchLength:t,touchTime:Date.now()})}function ze(e){Q({maskTouched:!0,CX:e.clientX,CY:e.clientY,lastX:de,lastY:ve})}E(_?void 0:"mousemove",function(e){e.preventDefault(),We(e.clientX,e.clientY)}),E(_?void 0:"mouseup",function(e){Oe(e.clientX,e.clientY)}),E(_?"touchmove":void 0,function(e){e.preventDefault();var n=W(e);We.apply(void 0,n)},{passive:!1}),E(_?"touchend":void 0,function(e){var n=e.changedTouches[0];Oe(n.clientX,n.clientY)},{passive:!1}),E("resize",L(function(){ue&&!fe&&(Q(R(ne,re,ge)),j())},{maxWait:8})),x(function(){K&&U(f({scale:pe,rotate:ge},Xe))},[K]);var qe=function(e,t,r,i,a,c,u,s,d,v){var f=function(e,t,r,o,i){var a=n(!1),c=g({lead:!0,scale:r}),l=c[0],u=l.lead,s=l.scale,d=c[1],v=L(function(e){try{return i(!0),d({lead:!1,scale:e}),Promise.resolve()}catch(e){return Promise.reject(e)}},{wait:o});return x(function(){a.current?(i(!1),d({lead:!0}),v(r)):a.current=!0},[r]),u?[e*s,t*s,r/s]:[e*r,t*r,1]}(c,u,s,d,v),h=f[0],p=f[1],w=f[2],b=function(e,t,r,i,a){var c=l(B),u=c[0],s=c[1],d=l(0),v=d[0],f=d[1],h=n(null),g=m({OK:function(){return e&&f(4)}});function p(e){a(!1),f(e)}return o(function(){if(h.current||(h.current=Date.now()),r){if(function(e,n){var t=e&&e.current;if(t&&1===t.nodeType){var r=t.getBoundingClientRect();n({T:r.top,L:r.left,W:r.width,H:r.height,FIT:"IMG"===t.tagName?getComputedStyle(t).objectFit:void 0})}}(t,s),e)return Date.now()-h.current<250?(f(1),requestAnimationFrame(function(){f(2),requestAnimationFrame(function(){return p(3)})}),void setTimeout(g.OK,i)):void f(4);p(5)}},[e,r]),[v,u]}(e,t,r,d,v),_=b[0],y=b[1],C=y.W,E=y.FIT,P=innerWidth/2,k=innerHeight/2,M=_<3||_>4;return[M?C?y.L:P:i+(P-c*s/2),M?C?y.T:k:a+(k-u*s/2),h,M&&E?h*(y.H/C):p,0===_?w:M?C/(c*s)||.01:w,M?E?1:0:1,_,E]}(w,v,ue,de,ve,ie,ce,pe,b,function(e){return Q({pause:e})}),Ke=qe[4],Ue=qe[6],Ge="transform "+b+"ms "+y,Je={className:k,onMouseDown:_?void 0:function(e){e.stopPropagation(),0===e.button&&je(e.clientX,e.clientY,0)},onTouchStart:_?function(e){e.stopPropagation(),je.apply(void 0,W(e))}:void 0,onWheel:function(e){if(!Ne){var n=C(pe-e.deltaY/100/2,ne/ie);Q({stopRaf:!0}),Ye(n,e.clientX,e.clientY)}},style:{width:qe[2]+"px",height:qe[3]+"px",opacity:qe[5],objectFit:4===Ue?void 0:qe[7],transform:ge?"rotate("+ge+"deg)":void 0,transition:Ue>2?Ge+", opacity "+b+"ms ease, height "+(Ue<4?b/2:Ue>4?b:0)+"ms "+y:void 0}};return e.createElement("div",{className:"PhotoView__PhotoWrap"+(P?" "+P:""),style:M,onMouseDown:!_&&K?ze:void 0,onTouchStart:_&&K?function(e){return ze(e.touches[0])}:void 0},e.createElement("div",{className:"PhotoView__PhotoBox",style:{transform:"matrix("+Ke+", 0, 0, "+Ke+", "+qe[0]+", "+qe[1]+")",transition:fe||Me?void 0:Ge,willChange:K?"transform":void 0}},i?e.createElement(z,f({title:h,description:p,src:i,loaded:ue,broken:se},Je,{onPhotoLoad:function(e){Q(f({},e,e.loaded&&R(e.naturalWidth||0,e.naturalHeight||0,ge)))},loadingElement:N,brokenElement:X})):a&&a({attrs:Je,scale:Ke,rotate:ge})))}var U={x:0,touched:!1,pause:!1,lastCX:void 0,lastCY:void 0,bg:void 0,lastBg:void 0,overlay:!0,minimal:!0,scale:1,rotate:0};function G(r){var i=r.loop,c=void 0===i?3:i,u=r.speed,s=r.easing,d=r.photoClosable,v=r.maskClosable,f=void 0===v||v,h=r.maskOpacity,p=void 0===h?1:h,C=r.pullClosable,P=void 0===C||C,W=r.bannerVisible,V=void 0===W||W,S=r.overlayRender,T=r.toolbarRender,R=r.className,L=r.maskClassName,A=r.photoClassName,I=r.photoWrapClassName,H=r.loadingElement,B=r.brokenElement,F=r.images,D=r.index,O=void 0===D?0:D,j=r.onIndexChange,z=r.visible,q=r.onClose,G=r.afterClose,J=r.portalContainer,Q=g(U),Z=Q[0],$=Q[1],ee=l(0),ne=ee[0],te=ee[1],re=Z.x,oe=Z.touched,ie=Z.pause,ae=Z.lastCX,ce=Z.lastCY,le=Z.bg,ue=void 0===le?p:le,se=Z.lastBg,de=Z.overlay,ve=Z.minimal,fe=Z.scale,he=Z.rotate,me=Z.onScale,ge=Z.onRotate,pe=r.hasOwnProperty("index"),we=pe?O:ne,be=pe?j:te,_e=n(we);o(function(){return function(){document.body.classList.remove("modal__nav-arrow--left","modal__nav-arrow--right")}},[]);var ye=F.length,Ce=F[we],xe="boolean"==typeof c?c:ye>c,Ee=function(e,r){var o=t(function(e){return!e},!1)[1],i=n(0),c=function(t){var r=n(t);function o(e){r.current=e}return a(function(){!function(n){e?(n(e),i.current=1):i.current=2}(o)},[t]),[r.current,o]}(e),l=c[1];return[c[0],i.current,function(){o(),2===i.current&&(l(!1),r&&r()),i.current=0}]}(z,G),Pe=Ee[0],ke=Ee[1],Me=Ee[2];x(function(){if(Pe)return $({pause:!0,x:we*-(innerWidth+b)}),void(_e.current=we);$(U)},[Pe]);var Ne=m({close:function(e){ge&&ge(0),document.body.classList.remove("modal__nav-arrow--left","modal__nav-arrow--right"),$({overlay:!0,lastBg:ue}),q(e)},changeIndex:function(e,n){void 0===n&&(n=!1);var t=xe?_e.current+(e-we):e,r=ye-1,o=y(t,0,r),i=xe?t:o,a=innerWidth+b;$({touched:!1,lastCX:void 0,lastCY:void 0,x:-a*i,pause:n}),_e.current=i,be&&be(xe?e<0?r:e>r?0:e:o)}}),Xe=Ne.close,Ye=Ne.changeIndex;function We(e){return e?Xe():$({overlay:!de})}function Ve(){$({x:-(innerWidth+b)*we,lastCX:void 0,lastCY:void 0,pause:!0}),_e.current=we}function Se(e,n,t,r){"x"===e?function(e){if(void 0!==ae){var n=e-ae,t=n;!xe&&(0===we&&n>0||we===ye-1&&n<0)&&(t=n/2),$({touched:!0,lastCX:ae,x:-(innerWidth+b)*_e.current+t,pause:!1})}else $({touched:!0,lastCX:e,x:re,pause:!1})}(n):"y"===e&&function(e,n){if(void 0!==ce){var t=null===p?null:y(p,.01,p-Math.abs(e-ce)/100/4);$({touched:!0,lastCY:ce,bg:1===n?t:p,minimal:1===n})}else $({touched:!0,lastCY:e,bg:ue,minimal:!0})}(t,r)}function Te(e,n){var t=e-(null!=ae?ae:e),r=n-(null!=ce?ce:n),o=!1;if(t<-100)Ye(we+1);else if(t>100)Ye(we-1);else{var i=-(innerWidth+b)*_e.current;Math.abs(r)>100&&ve&&P&&(o=!0,Xe()),$({touched:!1,x:i,lastCX:void 0,lastCY:void 0,bg:p,overlay:!!o||de})}}E("keydown",function(e){if(z)switch(e.key){case"ArrowLeft":Ye(we-1,!0);break;case"ArrowRight":Ye(we+1,!0);break;case"Escape":Xe()}});var Re=function(e,n,t){return a(function(){var r=e.length;return t?e.concat(e).concat(e).slice(r+n-1,r+n+2):e.slice(Math.max(n-1,0),Math.min(n+2,r+1))},[e,n,t])}(F,we,xe);if(!Pe)return null;var Le=de&&!ke,Ae=z?ue:se,Ie=me&&ge&&{images:F,index:we,visible:z,onClose:Xe,onIndexChange:Ye,overlayVisible:Le,overlay:Ce&&Ce.overlay,scale:fe,rotate:he,onScale:me,onRotate:ge},He=u?u(ke):400,Be=s?s(ke):w,Fe=u?u(3):600,De=s?s(3):w;return e.createElement(k,{className:"PhotoView-Portal"+(Le?"":" PhotoView-Slider__clean")+(z?"":" PhotoView-Slider__willClose")+(R?" "+R:""),role:"dialog",onClick:function(e){e.stopPropagation(),function(e){var n=e.target;if(!(null!=n&&n.closest(".PhotoView-Slider__BannerRight")||null!=n&&n.closest(".PhotoView-Slider__ArrowLeft")||null!=n&&n.closest(".PhotoView-Slider__ArrowRight"))){var t=e.currentTarget.getBoundingClientRect();e.clientX-t.left<=t.width/2?(xe||0!==we)&&Ye(we-1,!0):(xe||we+1<ye)&&Ye(we+1,!0)}}(e)},onMouseMove:function(e){var n=e.currentTarget.getBoundingClientRect(),t=e.clientX-n.left,r=n.width/2;document.body.classList.remove("modal__nav-arrow--left","modal__nav-arrow--right"),t<=r?document.body.classList.add("modal__nav-arrow--left"):document.body.classList.add("modal__nav-arrow--right")},onMouseLeave:function(e){document.body.classList.remove("modal__nav-arrow--left","modal__nav-arrow--right")},container:J},z&&e.createElement(Y,null),e.createElement("div",{className:"PhotoView-Slider__Backdrop"+(L?" "+L:"")+(1===ke?" PhotoView-Slider__fadeIn":2===ke?" PhotoView-Slider__fadeOut":""),style:{background:Ae?"rgba(0, 0, 0, "+Ae+")":void 0,transitionTimingFunction:Be,transitionDuration:(oe?0:He)+"ms",animationDuration:He+"ms"},onAnimationEnd:Me}),V&&e.createElement("div",{className:"PhotoView-Slider__BannerWrap"},e.createElement("div",{className:"PhotoView-Slider__Counter"},we+1," / ",ye),e.createElement("div",{className:"PhotoView-Slider__BannerRight"},T&&Ie&&T(Ie),e.createElement(M,{className:"close",onClick:Xe}))),Re.map(function(n,t){var r=xe||0!==we?_e.current-1+t:we+t;return e.createElement(K,{key:xe?n.key+"/"+n.src+"/"+r:n.key,item:n,speed:He,easing:Be,visible:z,onReachMove:Se,onReachUp:Te,onPhotoTap:function(){return We(d)},onMaskTap:function(){return We(f)},wrapClassName:I,className:A,style:{left:(innerWidth+b)*r+"px",transform:"translate3d("+re+"px, 0px, 0)",transition:oe||ie?void 0:"transform "+Fe+"ms "+De},loadingElement:H,brokenElement:B,onPhotoResize:Ve,isActive:_e.current===r,expose:$})}),!_&&V&&e.createElement(e.Fragment,null,(xe||0!==we)&&e.createElement("div",{className:"PhotoView-Slider__ArrowLeft",onClick:function(){return Ye(we-1,!0)}},e.createElement(N,null)),(xe||we+1<ye)&&e.createElement("div",{className:"PhotoView-Slider__ArrowRight",onClick:function(){return Ye(we+1,!0)}},e.createElement(X,null))),S&&Ie&&e.createElement("div",{className:"PhotoView-Slider__Overlay"},S(Ie)))}var J=["children","onIndexChange","onVisibleChange"],Q={images:[],visible:!1,index:0};function Z(t){var r=t.children,o=t.onIndexChange,i=t.onVisibleChange,c=h(t,J),l=g(Q),u=l[0],s=l[1],d=n(0),v=u.images,w=u.visible,b=u.index,_=m({nextId:function(){return d.current+=1},update:function(e){var n=v.findIndex(function(n){return n.key===e.key});if(n>-1){var t=v.slice();return t.splice(n,1,e),void s({images:t})}s(function(n){return{images:n.images.concat(e)}})},remove:function(e){s(function(n){var t=n.images.filter(function(n){return n.key!==e});return{images:t,index:Math.min(t.length-1,b)}})},show:function(e){var n=v.findIndex(function(n){return n.key===e});s({visible:!0,index:n}),i&&i(!0,n,u)}}),y=m({close:function(){s({visible:!1}),i&&i(!1,b,u)},changeIndex:function(e){s({index:e}),o&&o(e,u)}}),C=a(function(){return f({},u,_)},[u,_]);return e.createElement(p.Provider,{value:C},r,e.createElement(G,f({images:v,visible:w,index:b,onIndexChange:y.changeIndex,onClose:y.close},c)))}var $=function(e){var t,r,i=e.src,c=e.render,l=e.overlay,v=e.width,h=e.height,g=e.triggers,w=void 0===g?["onClick"]:g,b=e.children,_=e.title,y=e.description,C=u(p),x=(t=function(){return C.nextId()},(r=n({sign:!1,fn:void 0}).current).sign||(r.sign=!0,r.fn=t()),r.fn),E=n(null);o(function(){return function(){C.remove(x)}},[]);var P=m({render:function(e){return c&&c(e)},show:function(e,n){C.show(x),function(e,n){if(b){var t=b.props[e];t&&t(n)}}(e,n)}}),k=a(function(){var e={};return w.forEach(function(n){e[n]=P.show.bind(null,n)}),e},[]);return o(function(){C.update({key:x,src:i,originRef:E,render:P.render,overlay:l,width:v,height:h,title:_,description:y})},[i]),b?s.only(d(b,f({},k,{ref:E}))):null};export{Z as PhotoProvider,G as PhotoSlider,$ as PhotoView};
//# sourceMappingURL=react-photo-view.module.js.map
