var e=require("react"),t=require("react-dom");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=/*#__PURE__*/n(e);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(null,arguments)}function a(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}function i(t){var n=e.useRef({fn:t,curr:void 0}).current;if(n.fn=t,!n.curr){var r=Object.create(null);Object.keys(t).forEach(function(e){r[e]=function(){var t;return(t=n.fn[e]).call.apply(t,[n.fn].concat([].slice.call(arguments)))}}),n.curr=r}return n.curr}function u(t){return e.useReducer(function(e,t){return o({},e,"function"==typeof t?t(e):t)},t)}var c=e.createContext(void 0),l="cubic-bezier(0.25, 0.8, 0.25, 1)",s=20,d="undefined"!=typeof window&&"ontouchstart"in window,f=function(e,t,n){return Math.max(Math.min(e,n),t)},v=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=0),f(e,1*(1-n),Math.max(6,t)*(1+n))},h="undefined"==typeof window||/ServerSideRendering/.test(navigator&&navigator.userAgent)?e.useEffect:e.useLayoutEffect;function m(t,n,r){var o=e.useRef(n);o.current=n,e.useEffect(function(){function e(e){o.current(e)}return t&&window.addEventListener(t,e,r),function(){t&&window.removeEventListener(t,e)}},[t])}var g=["container"];function p(e){var n=e.container,i=void 0===n?document.body:n,u=a(e,g);return t.createPortal(r.default.createElement("div",o({},u)),i)}function w(e){return r.default.createElement("button",o({},e),r.default.createElement("div",{className:"in"},r.default.createElement("div",{className:"close-button-block"}),r.default.createElement("div",{className:"close-button-block"})),r.default.createElement("div",{className:"out"},r.default.createElement("div",{className:"close-button-block"}),r.default.createElement("div",{className:"close-button-block"})))}function b(e){return r.default.createElement("svg",o({width:"44",height:"44",viewBox:"0 0 768 768"},e),r.default.createElement("path",{d:"M640.5 352.5v63h-390l178.5 180-45 45-256.5-256.5 256.5-256.5 45 45-178.5 180h390z"}))}function y(e){return r.default.createElement("svg",o({width:"44",height:"44",viewBox:"0 0 768 768"},e),r.default.createElement("path",{d:"M384 127.5l256.5 256.5-256.5 256.5-45-45 178.5-180h-390v-63h390l-178.5-180z"}))}function _(){return e.useEffect(function(){var e=document.body.style,t=e.overflow;return e.overflow="hidden",function(){e.overflow=t}},[]),null}function E(e){var t=e.touches[0],n=t.clientX,r=t.clientY;if(e.touches.length>=2){var o=e.touches[1],a=o.clientX,i=o.clientY;return[(n+a)/2,(r+i)/2,Math.sqrt(Math.pow(a-n,2)+Math.pow(i-r,2))]}return[n,r,0]}var C=function(e,t,n,r){var o,a=n*t,i=(a-r)/2,u=e;return a<=r?(o=1,u=0):e>0&&i-e<=0?(o=2,u=i):e<0&&i+e<=0&&(o=3,u=-i),[o,u]};function x(e,t,n,r,o,a,i,u,c,l){void 0===i&&(i=innerWidth/2),void 0===u&&(u=innerHeight/2),void 0===c&&(c=0),void 0===l&&(l=0);var s=C(e,a,n,innerWidth)[0],d=C(t,a,r,innerHeight),f=innerWidth/2,v=innerHeight/2;return{x:i-a/o*(i-(f+e))-f+(r/n>=3&&n*a===innerWidth?0:s?c/2:c),y:u-a/o*(u-(v+t))-v+(d[0]?l/2:l),lastCX:i,lastCY:u}}function P(e,t,n){var r=e%180!=0;return r?[n,t,r]:[t,n,r]}function k(e,t,n){var r=P(n,innerWidth,innerHeight),o=r[0],a=r[1],i=0,u=o,c=a,l=e/t*a,s=t/e*o;return e<o&&t<a?(u=e,c=t):e<o&&t>=a?u=l:e>=o&&t<a||e/t>o/a?c=s:t/e>=3&&!r[2]?i=((c=s)-a)/2:u=l,u>448?(u=448,c=t/e*448):c=t/e*(u-=30),{width:u,height:c,x:0,y:i,pause:!0}}function R(t,n){var r=n.leading,o=void 0!==r&&r,a=n.maxWait,i=n.wait,u=void 0===i?a||0:i,c=e.useRef(t);c.current=t;var l=e.useRef(0),s=e.useRef(null),d=function(){return s.current&&clearTimeout(s.current)},f=e.useCallback(function(){var e=[].slice.call(arguments),t=Date.now();function n(){l.current=t,d(),c.current.apply(null,e)}var r=l.current,i=t-r;if(0===r&&(o&&n(),l.current=t),void 0!==a){if(i>a)return void n()}else i<u&&(l.current=t);d(),s.current=setTimeout(function(){n(),l.current=0},u)},[u,a,o]);return f.cancel=d,f}var M=function(e,t,n){return X(e,t,n,100,function(e){return e},function(){return X(t,e,n)})},N=function(e){return 1-Math.pow(1-e,4)};function X(e,t,n,r,o,a){void 0===r&&(r=400),void 0===o&&(o=N);var i=t-e;if(0!==i){var u=Date.now(),c=0,l=function(){var t=Math.min(1,(Date.now()-u)/r);n(e+o(t)*i)&&t<1?s():(cancelAnimationFrame(c),t>=1&&a&&a())};s()}function s(){c=requestAnimationFrame(l)}}var Y={T:0,L:0,W:0,H:0,FIT:void 0},S=function(){var t=e.useRef(!1);return e.useEffect(function(){return t.current=!0,function(){t.current=!1}},[]),t},V=["className"];function W(e){var t=e.className,n=void 0===t?"":t,i=a(e,V);return r.default.createElement("div",o({className:"PhotoView__Spinner "+n},i),r.default.createElement("svg",{viewBox:"0 0 32 32",width:"36",height:"36",fill:"white"},r.default.createElement("path",{opacity:".25",d:"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"}),r.default.createElement("path",{d:"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z"})))}var T=["src","loaded","broken","className","onPhotoLoad","loadingElement","brokenElement","title","description"];function L(e){var t=e.src,n=e.loaded,i=e.broken,u=e.className,c=e.onPhotoLoad,l=e.loadingElement,s=e.brokenElement,d=e.title,f=e.description,v=a(e,T),h=S();return t&&!i?r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"PhotoView__Photo__attr "+(!n&&"loaded")},d&&r.default.createElement("div",{className:"PhotoView__Photo__title"},d),r.default.createElement("img",o({className:"PhotoView__Photo"+(u?" "+u:""),src:t,onLoad:function(e){var t=e.target;h.current&&c({loaded:!0,naturalWidth:t.naturalWidth,naturalHeight:t.naturalHeight})},onError:function(){h.current&&c({broken:!0})},draggable:!1,alt:"document"},v)),f&&r.default.createElement("div",{className:"PhotoView__Photo__description"},f)),!n&&(l?r.default.createElement("span",{className:"PhotoView__icon"},l):r.default.createElement(W,{className:"PhotoView__icon"}))):s?r.default.createElement("span",{className:"PhotoView__icon"},"function"==typeof s?s({src:t}):s):null}var A={naturalWidth:void 0,naturalHeight:void 0,width:void 0,height:void 0,loaded:void 0,broken:!1,x:0,y:0,touched:!1,maskTouched:!1,rotate:0,scale:1,CX:0,CY:0,lastX:0,lastY:0,lastCX:0,lastCY:0,lastScale:1,touchTime:0,touchLength:0,pause:!0,stopRaf:!0,reach:void 0};function I(t){var n=t.item,a=n.src,c=n.render,l=n.width,s=void 0===l?0:l,f=n.height,g=void 0===f?0:f,p=n.originRef,w=n.title,b=n.description,y=t.visible,_=t.speed,N=t.easing,V=t.wrapClassName,W=t.className,T=t.style,I=t.loadingElement,H=t.brokenElement,B=t.onPhotoTap,F=t.onMaskTap,D=t.onReachMove,O=t.onReachUp,j=t.onPhotoResize,q=t.isActive,z=t.expose,K=u(A),U=K[0],G=K[1],J=e.useRef(0),Q=S(),Z=U.naturalWidth,$=void 0===Z?s:Z,ee=U.naturalHeight,te=void 0===ee?g:ee,ne=U.width,re=void 0===ne?s:ne,oe=U.height,ae=void 0===oe?g:oe,ie=U.loaded,ue=void 0===ie?!a:ie,ce=U.broken,le=U.x,se=U.y,de=U.touched,fe=U.stopRaf,ve=U.maskTouched,he=U.rotate,me=U.scale,ge=U.CX,pe=U.CY,we=U.lastX,be=U.lastY,ye=U.lastCX,_e=U.lastCY,Ee=U.lastScale,Ce=U.touchTime,xe=U.touchLength,Pe=U.pause,ke=U.reach,Re=i({onScale:function(e){return Me(v(e))},onRotate:function(e){he!==e&&(z({rotate:e}),G(o({rotate:e},k($,te,e))))}});function Me(e,t,n){me!==e&&(z({scale:e}),G(o({scale:e},x(le,se,re,ae,me,e,t,n),e<=1&&{x:0,y:0})))}var Ne=R(function(e,t,n){if(void 0===n&&(n=0),(de||ve)&&q){var r=P(he,re,ae),a=r[0],i=r[1];if(0===n&&0===J.current){var u=Math.abs(e-ge)<=20,c=Math.abs(t-pe)<=20;if(u&&c)return void G({lastCX:e,lastCY:t});J.current=u?t>pe?3:2:1}var l,s=e-ye,d=t-_e;if(0===n){var f=C(s+we,me,a,innerWidth)[0],h=C(d+be,me,i,innerHeight);l=function(e,t,n,r){return t&&1===e||"x"===r?"x":n&&e>1||"y"===r?"y":void 0}(J.current,f,h[0],ke),void 0!==l&&D(l,e,t,me)}if("x"===l||ve)return void G({reach:"x"});var m=v(me+(n-xe)/100/2*me,$/re,.2);z({scale:m}),G(o({touchLength:n,reach:l,scale:m},x(le,se,re,ae,me,m,e,t,s,d)))}},{maxWait:8});function Xe(e){return!fe&&!de&&(Q.current&&G(o({},e,{pause:y})),Q.current)}var Ye,Se,Ve,We,Te,Le,Ae,Ie,He=(Te=function(e){return Xe({x:e})},Le=function(e){return Xe({y:e})},Ae=function(e){return Q.current&&(z({scale:e}),G({scale:e})),!de&&Q.current},Ie=i({X:function(e){return Te(e)},Y:function(e){return Le(e)},S:function(e){return Ae(e)}}),function(e,t,n,r,o,a,i,u,c,l,s){var d=P(l,o,a),f=d[0],v=d[1],h=C(e,u,f,innerWidth),m=h[0],g=h[1],p=C(t,u,v,innerHeight),w=p[0],b=p[1],y=Date.now()-s;if(y>=200||u!==i||Math.abs(c-i)>1){var _=x(e,t,o,a,i,u),E=_.x,k=_.y,R=m?g:E!==e?E:null,N=w?b:k!==t?k:null;return null!==R&&X(e,R,Ie.X),null!==N&&X(t,N,Ie.Y),void(u!==i&&X(i,u,Ie.S))}var Y=(e-n)/y,S=(t-r)/y,V=Math.sqrt(Math.pow(Y,2)+Math.pow(S,2)),W=!1,T=!1;!function(e,t){var n,r=e,o=0,a=0,i=function(a){n||(n=a);var i=a-n,l=Math.sign(e),s=-.001*l,d=Math.sign(-r)*Math.pow(r,2)*2e-4,f=r*i+(s+d)*Math.pow(i,2)/2;o+=f,n=a,l*(r+=(s+d)*i)<=0?c():t(o)?u():c()};function u(){a=requestAnimationFrame(i)}function c(){cancelAnimationFrame(a)}u()}(V,function(n){var r=e+n*(Y/V),o=t+n*(S/V),a=C(r,i,f,innerWidth),u=a[0],c=a[1],l=C(o,i,v,innerHeight),s=l[0],d=l[1];if(u&&!W&&(W=!0,m?X(r,c,Ie.X):M(c,r+(r-c),Ie.X)),s&&!T&&(T=!0,w?X(o,d,Ie.Y):M(d,o+(o-d),Ie.Y)),W&&T)return!1;var h=W||Ie.X(c),g=T||Ie.Y(d);return h&&g})}),Be=(Ye=B,Se=function(e,t){ke||Me(1!==me?1:Math.max(2,$/re),e,t)},Ve=e.useRef(0),We=R(function(){Ve.current=0,Ye.apply(void 0,[].slice.call(arguments))},{wait:300}),function(){var e=[].slice.call(arguments);Ve.current+=1,We.apply(void 0,e),Ve.current>=2&&(We.cancel(),Ve.current=0,Se.apply(void 0,e))});function Fe(e,t){if(J.current=0,(de||ve)&&q){G({touched:!1,maskTouched:!1,pause:!1,stopRaf:!1,reach:void 0});var n=v(me,$/re);if(He(le,se,we,be,re,ae,me,n,Ee,he,Ce),O(e,t),ge===e&&pe===t){if(de)return void Be(e,t);ve&&F(e,t)}}}function De(e,t,n){void 0===n&&(n=0),G({touched:!0,CX:e,CY:t,lastCX:e,lastCY:t,lastX:le,lastY:se,lastScale:me,touchLength:n,touchTime:Date.now()})}function Oe(e){G({maskTouched:!0,CX:e.clientX,CY:e.clientY,lastX:le,lastY:se})}m(d?void 0:"mousemove",function(e){e.preventDefault(),Ne(e.clientX,e.clientY)}),m(d?void 0:"mouseup",function(e){Fe(e.clientX,e.clientY)}),m(d?"touchmove":void 0,function(e){e.preventDefault();var t=E(e);Ne.apply(void 0,t)},{passive:!1}),m(d?"touchend":void 0,function(e){var t=e.changedTouches[0];Fe(t.clientX,t.clientY)},{passive:!1}),m("resize",R(function(){ue&&!de&&(G(k($,te,he)),j())},{maxWait:8})),h(function(){q&&z(o({scale:me,rotate:he},Re))},[q]);var je=function(t,n,r,o,a,c,l,s,d,f){var v=function(t,n,r,o,a){var i=e.useRef(!1),c=u({lead:!0,scale:r}),l=c[0],s=l.lead,d=l.scale,f=c[1],v=R(function(e){try{return a(!0),f({lead:!1,scale:e}),Promise.resolve()}catch(e){return Promise.reject(e)}},{wait:o});return h(function(){i.current?(a(!1),f({lead:!0}),v(r)):i.current=!0},[r]),s?[t*d,n*d,r/d]:[t*r,n*r,1]}(c,l,s,d,f),m=v[0],g=v[1],p=v[2],w=function(t,n,r,o,a){var u=e.useState(Y),c=u[0],l=u[1],s=e.useState(0),d=s[0],f=s[1],v=e.useRef(null),h=i({OK:function(){return t&&f(4)}});function m(e){a(!1),f(e)}return e.useEffect(function(){if(v.current||(v.current=Date.now()),r){if(function(e,t){var n=e&&e.current;if(n&&1===n.nodeType){var r=n.getBoundingClientRect();t({T:r.top,L:r.left,W:r.width,H:r.height,FIT:"IMG"===n.tagName?getComputedStyle(n).objectFit:void 0})}}(n,l),t)return Date.now()-v.current<250?(f(1),requestAnimationFrame(function(){f(2),requestAnimationFrame(function(){return m(3)})}),void setTimeout(h.OK,o)):void f(4);m(5)}},[t,r]),[d,c]}(t,n,r,d,f),b=w[0],y=w[1],_=y.W,E=y.FIT,C=innerWidth/2,x=innerHeight/2,P=b<3||b>4;return[P?_?y.L:C:o+(C-c*s/2),P?_?y.T:x:a+(x-l*s/2),m,P&&E?m*(y.H/_):g,0===b?p:P?_/(c*s)||.01:p,P?E?1:0:1,b,E]}(y,p,ue,le,se,re,ae,me,_,function(e){return G({pause:e})}),qe=je[4],ze=je[6],Ke="transform "+_+"ms "+N,Ue={className:W,onMouseDown:d?void 0:function(e){e.stopPropagation(),0===e.button&&De(e.clientX,e.clientY,0)},onTouchStart:d?function(e){e.stopPropagation(),De.apply(void 0,E(e))}:void 0,onWheel:function(e){if(!ke){var t=v(me-e.deltaY/100/2,$/re);G({stopRaf:!0}),Me(t,e.clientX,e.clientY)}},style:{width:je[2]+"px",height:je[3]+"px",opacity:je[5],objectFit:4===ze?void 0:je[7],transform:he?"rotate("+he+"deg)":void 0,transition:ze>2?Ke+", opacity "+_+"ms ease, height "+(ze<4?_/2:ze>4?_:0)+"ms "+N:void 0}};return r.default.createElement("div",{className:"PhotoView__PhotoWrap"+(V?" "+V:""),style:T,onMouseDown:!d&&q?Oe:void 0,onTouchStart:d&&q?function(e){return Oe(e.touches[0])}:void 0},r.default.createElement("div",{className:"PhotoView__PhotoBox",style:{transform:"matrix("+qe+", 0, 0, "+qe+", "+je[0]+", "+je[1]+")",transition:de||Pe?void 0:Ke,willChange:q?"transform":void 0}},a?r.default.createElement(L,o({title:w,description:b,src:a,loaded:ue,broken:ce},Ue,{onPhotoLoad:function(e){G(o({},e,e.loaded&&k(e.naturalWidth||0,e.naturalHeight||0,he)))},loadingElement:I,brokenElement:H})):c&&c({attrs:Ue,scale:qe,rotate:he})))}var H={x:0,touched:!1,pause:!1,lastCX:void 0,lastCY:void 0,bg:void 0,lastBg:void 0,overlay:!0,minimal:!0,scale:1,rotate:0};function B(t){var n=t.loop,o=void 0===n?3:n,a=t.speed,c=t.easing,v=t.photoClosable,g=t.maskClosable,E=void 0===g||g,C=t.maskOpacity,x=void 0===C?1:C,P=t.pullClosable,k=void 0===P||P,R=t.bannerVisible,M=void 0===R||R,N=t.overlayRender,X=t.toolbarRender,Y=t.className,S=t.maskClassName,V=t.photoClassName,W=t.photoWrapClassName,T=t.loadingElement,L=t.brokenElement,A=t.images,B=t.index,F=void 0===B?0:B,D=t.onIndexChange,O=t.visible,j=t.onClose,q=t.afterClose,z=t.portalContainer,K=u(H),U=K[0],G=K[1],J=e.useState(0),Q=J[0],Z=J[1],$=U.x,ee=U.touched,te=U.pause,ne=U.lastCX,re=U.lastCY,oe=U.bg,ae=void 0===oe?x:oe,ie=U.lastBg,ue=U.overlay,ce=U.minimal,le=U.scale,se=U.rotate,de=U.onScale,fe=U.onRotate,ve=t.hasOwnProperty("index"),he=ve?F:Q,me=ve?D:Z,ge=e.useRef(he);e.useEffect(function(){return function(){document.body.classList.remove("modal__nav-arrow--left","modal__nav-arrow--right")}},[]);var pe=A.length,we=A[he],be="boolean"==typeof o?o:pe>o,ye=function(t,n){var r=e.useReducer(function(e){return!e},!1)[1],o=e.useRef(0),a=function(n){var r=e.useRef(n);function a(e){r.current=e}return e.useMemo(function(){!function(e){t?(e(t),o.current=1):o.current=2}(a)},[n]),[r.current,a]}(t),i=a[1];return[a[0],o.current,function(){r(),2===o.current&&(i(!1),n&&n()),o.current=0}]}(O,q),_e=ye[0],Ee=ye[1],Ce=ye[2];h(function(){if(_e)return G({pause:!0,x:he*-(innerWidth+s)}),void(ge.current=he);G(H)},[_e]);var xe=i({close:function(e){fe&&fe(0),document.body.classList.remove("modal__nav-arrow--left","modal__nav-arrow--right"),G({overlay:!0,lastBg:ae}),j(e)},changeIndex:function(e,t){void 0===t&&(t=!1);var n=be?ge.current+(e-he):e,r=pe-1,o=f(n,0,r),a=be?n:o,i=innerWidth+s;G({touched:!1,lastCX:void 0,lastCY:void 0,x:-i*a,pause:t}),ge.current=a,me&&me(be?e<0?r:e>r?0:e:o)}}),Pe=xe.close,ke=xe.changeIndex;function Re(e){return e?Pe():G({overlay:!ue})}function Me(){G({x:-(innerWidth+s)*he,lastCX:void 0,lastCY:void 0,pause:!0}),ge.current=he}function Ne(e,t,n,r){"x"===e?function(e){if(void 0!==ne){var t=e-ne,n=t;!be&&(0===he&&t>0||he===pe-1&&t<0)&&(n=t/2),G({touched:!0,lastCX:ne,x:-(innerWidth+s)*ge.current+n,pause:!1})}else G({touched:!0,lastCX:e,x:$,pause:!1})}(t):"y"===e&&function(e,t){if(void 0!==re){var n=null===x?null:f(x,.01,x-Math.abs(e-re)/100/4);G({touched:!0,lastCY:re,bg:1===t?n:x,minimal:1===t})}else G({touched:!0,lastCY:e,bg:ae,minimal:!0})}(n,r)}function Xe(e,t){var n=e-(null!=ne?ne:e),r=t-(null!=re?re:t),o=!1;if(n<-100)ke(he+1);else if(n>100)ke(he-1);else{var a=-(innerWidth+s)*ge.current;Math.abs(r)>100&&ce&&k&&(o=!0,Pe()),G({touched:!1,x:a,lastCX:void 0,lastCY:void 0,bg:x,overlay:!!o||ue})}}m("keydown",function(e){if(O)switch(e.key){case"ArrowLeft":ke(he-1,!0);break;case"ArrowRight":ke(he+1,!0);break;case"Escape":Pe()}});var Ye=function(t,n,r){return e.useMemo(function(){var e=t.length;return r?t.concat(t).concat(t).slice(e+n-1,e+n+2):t.slice(Math.max(n-1,0),Math.min(n+2,e+1))},[t,n,r])}(A,he,be);if(!_e)return null;var Se=ue&&!Ee,Ve=O?ae:ie,We=de&&fe&&{images:A,index:he,visible:O,onClose:Pe,onIndexChange:ke,overlayVisible:Se,overlay:we&&we.overlay,scale:le,rotate:se,onScale:de,onRotate:fe},Te=a?a(Ee):400,Le=c?c(Ee):l,Ae=a?a(3):600,Ie=c?c(3):l;return r.default.createElement(p,{className:"PhotoView-Portal"+(Se?"":" PhotoView-Slider__clean")+(O?"":" PhotoView-Slider__willClose")+(Y?" "+Y:""),role:"dialog",onClick:function(e){e.stopPropagation(),function(e){var t=e.target;if(!(null!=t&&t.closest(".PhotoView-Slider__BannerRight")||null!=t&&t.closest(".PhotoView-Slider__ArrowLeft")||null!=t&&t.closest(".PhotoView-Slider__ArrowRight"))){var n=e.currentTarget.getBoundingClientRect();e.clientX-n.left<=n.width/2?(be||0!==he)&&ke(he-1,!0):(be||he+1<pe)&&ke(he+1,!0)}}(e)},onMouseMove:function(e){var t=e.currentTarget.getBoundingClientRect(),n=e.clientX-t.left,r=t.width/2;document.body.classList.remove("modal__nav-arrow--left","modal__nav-arrow--right"),n<=r?document.body.classList.add("modal__nav-arrow--left"):document.body.classList.add("modal__nav-arrow--right")},onMouseLeave:function(e){document.body.classList.remove("modal__nav-arrow--left","modal__nav-arrow--right")},container:z},O&&r.default.createElement(_,null),r.default.createElement("div",{className:"PhotoView-Slider__Backdrop"+(S?" "+S:"")+(1===Ee?" PhotoView-Slider__fadeIn":2===Ee?" PhotoView-Slider__fadeOut":""),style:{background:Ve?"rgba(0, 0, 0, "+Ve+")":void 0,transitionTimingFunction:Le,transitionDuration:(ee?0:Te)+"ms",animationDuration:Te+"ms"},onAnimationEnd:Ce}),M&&r.default.createElement("div",{className:"PhotoView-Slider__BannerWrap"},r.default.createElement("div",{className:"PhotoView-Slider__Counter"},he+1," / ",pe),r.default.createElement("div",{className:"PhotoView-Slider__BannerRight"},X&&We&&X(We),r.default.createElement(w,{className:"close",onClick:Pe}))),Ye.map(function(e,t){var n=be||0!==he?ge.current-1+t:he+t;return r.default.createElement(I,{key:be?e.key+"/"+e.src+"/"+n:e.key,item:e,speed:Te,easing:Le,visible:O,onReachMove:Ne,onReachUp:Xe,onPhotoTap:function(){return Re(v)},onMaskTap:function(){return Re(E)},wrapClassName:W,className:V,style:{left:(innerWidth+s)*n+"px",transform:"translate3d("+$+"px, 0px, 0)",transition:ee||te?void 0:"transform "+Ae+"ms "+Ie},loadingElement:T,brokenElement:L,onPhotoResize:Me,isActive:ge.current===n,expose:G})}),!d&&M&&r.default.createElement(r.default.Fragment,null,(be||0!==he)&&r.default.createElement("div",{className:"PhotoView-Slider__ArrowLeft",onClick:function(){return ke(he-1,!0)}},r.default.createElement(b,null)),(be||he+1<pe)&&r.default.createElement("div",{className:"PhotoView-Slider__ArrowRight",onClick:function(){return ke(he+1,!0)}},r.default.createElement(y,null))),N&&We&&r.default.createElement("div",{className:"PhotoView-Slider__Overlay"},N(We)))}var F=["children","onIndexChange","onVisibleChange"],D={images:[],visible:!1,index:0};exports.PhotoProvider=function(t){var n=t.children,l=t.onIndexChange,s=t.onVisibleChange,d=a(t,F),f=u(D),v=f[0],h=f[1],m=e.useRef(0),g=v.images,p=v.visible,w=v.index,b=i({nextId:function(){return m.current+=1},update:function(e){var t=g.findIndex(function(t){return t.key===e.key});if(t>-1){var n=g.slice();return n.splice(t,1,e),void h({images:n})}h(function(t){return{images:t.images.concat(e)}})},remove:function(e){h(function(t){var n=t.images.filter(function(t){return t.key!==e});return{images:n,index:Math.min(n.length-1,w)}})},show:function(e){var t=g.findIndex(function(t){return t.key===e});h({visible:!0,index:t}),s&&s(!0,t,v)}}),y=i({close:function(){h({visible:!1}),s&&s(!1,w,v)},changeIndex:function(e){h({index:e}),l&&l(e,v)}}),_=e.useMemo(function(){return o({},v,b)},[v,b]);return r.default.createElement(c.Provider,{value:_},n,r.default.createElement(B,o({images:g,visible:p,index:w,onIndexChange:y.changeIndex,onClose:y.close},d)))},exports.PhotoSlider=B,exports.PhotoView=function(t){var n,r,a=t.src,u=t.render,l=t.overlay,s=t.width,d=t.height,f=t.triggers,v=void 0===f?["onClick"]:f,h=t.children,m=t.title,g=t.description,p=e.useContext(c),w=(n=function(){return p.nextId()},(r=e.useRef({sign:!1,fn:void 0}).current).sign||(r.sign=!0,r.fn=n()),r.fn),b=e.useRef(null);e.useEffect(function(){return function(){p.remove(w)}},[]);var y=i({render:function(e){return u&&u(e)},show:function(e,t){p.show(w),function(e,t){if(h){var n=h.props[e];n&&n(t)}}(e,t)}}),_=e.useMemo(function(){var e={};return v.forEach(function(t){e[t]=y.show.bind(null,t)}),e},[]);return e.useEffect(function(){p.update({key:w,src:a,originRef:b,render:y.render,overlay:l,width:s,height:d,title:m,description:g})},[a]),h?e.Children.only(e.cloneElement(h,o({},_,{ref:b}))):null};
//# sourceMappingURL=react-photo-view.js.map
