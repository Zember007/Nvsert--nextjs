var e=require("react"),t=require("react-dom");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=/*#__PURE__*/n(e);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(null,arguments)}function o(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}function i(t){var n=e.useRef({fn:t,curr:void 0}).current;if(n.fn=t,!n.curr){var r=Object.create(null);Object.keys(t).forEach(function(e){r[e]=function(){var t;return(t=n.fn[e]).call.apply(t,[n.fn].concat([].slice.call(arguments)))}}),n.curr=r}return n.curr}function u(t){return e.useReducer(function(e,t){return a({},e,"function"==typeof t?t(e):t)},t)}var c=e.createContext(void 0),l="cubic-bezier(0.25, 0.8, 0.25, 1)",s=20,d="undefined"!=typeof window&&"ontouchstart"in window,f=function(e,t,n){return Math.max(Math.min(e,n),t)},v=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=0),f(e,1*(1-n),Math.max(6,t)*(1+n))},h="undefined"==typeof window||/ServerSideRendering/.test(navigator&&navigator.userAgent)?e.useEffect:e.useLayoutEffect;function m(t,n,r){var a=e.useRef(n);a.current=n,e.useEffect(function(){function e(e){a.current(e)}return t&&window.addEventListener(t,e,r),function(){t&&window.removeEventListener(t,e)}},[t])}var g=["container"];function p(e){var n=e.container,i=void 0===n?document.body:n,u=o(e,g);return t.createPortal(r.default.createElement("div",a({},u)),i)}function w(e){return r.default.createElement("button",a({},e),r.default.createElement("div",{className:"in"},r.default.createElement("div",{className:"close-button-block"}),r.default.createElement("div",{className:"close-button-block"})),r.default.createElement("div",{className:"out"},r.default.createElement("div",{className:"close-button-block"}),r.default.createElement("div",{className:"close-button-block"})))}function b(e){return r.default.createElement("svg",a({width:"44",height:"44",viewBox:"0 0 768 768"},e),r.default.createElement("path",{d:"M640.5 352.5v63h-390l178.5 180-45 45-256.5-256.5 256.5-256.5 45 45-178.5 180h390z"}))}function E(e){return r.default.createElement("svg",a({width:"44",height:"44",viewBox:"0 0 768 768"},e),r.default.createElement("path",{d:"M384 127.5l256.5 256.5-256.5 256.5-45-45 178.5-180h-390v-63h390l-178.5-180z"}))}function y(){return e.useEffect(function(){var e=document.body.style,t=e.overflow;return e.overflow="hidden",function(){e.overflow=t}},[]),null}function x(e){var t=e.touches[0],n=t.clientX,r=t.clientY;if(e.touches.length>=2){var a=e.touches[1],o=a.clientX,i=a.clientY;return[(n+o)/2,(r+i)/2,Math.sqrt(Math.pow(o-n,2)+Math.pow(i-r,2))]}return[n,r,0]}var C=function(e,t,n,r){var a,o=n*t,i=(o-r)/2,u=e;return o<=r?(a=1,u=0):e>0&&i-e<=0?(a=2,u=i):e<0&&i+e<=0&&(a=3,u=-i),[a,u]};function k(e,t,n,r,a,o,i,u,c,l){void 0===i&&(i=innerWidth/2),void 0===u&&(u=innerHeight/2),void 0===c&&(c=0),void 0===l&&(l=0);var s=C(e,o,n,innerWidth)[0],d=C(t,o,r,innerHeight),f=innerWidth/2,v=innerHeight/2;return{x:i-o/a*(i-(f+e))-f+(r/n>=3&&n*o===innerWidth?0:s?c/2:c),y:u-o/a*(u-(v+t))-v+(d[0]?l/2:l),lastCX:i,lastCY:u}}function P(e,t,n){var r=e%180!=0;return r?[n,t,r]:[t,n,r]}function M(e,t,n){var r=P(n,innerWidth,innerHeight),a=r[0],o=r[1],i=0,u=a,c=o,l=e/t*o,s=t/e*a;return e<a&&t<o?(u=e,c=t):e<a&&t>=o?u=l:e>=a&&t<o||e/t>a/o?c=s:t/e>=3&&!r[2]?i=((c=s)-o)/2:u=l,u>448?(u=448,c=t/e*448):c=t/e*(u-=30),{width:u,height:c,x:0,y:i,pause:!0}}function R(t,n){var r=n.leading,a=void 0!==r&&r,o=n.maxWait,i=n.wait,u=void 0===i?o||0:i,c=e.useRef(t);c.current=t;var l=e.useRef(0),s=e.useRef(null),d=function(){return s.current&&clearTimeout(s.current)},f=e.useCallback(function(){var e=[].slice.call(arguments),t=Date.now();function n(){l.current=t,d(),c.current.apply(null,e)}var r=l.current,i=t-r;if(0===r&&(a&&n(),l.current=t),void 0!==o){if(i>o)return void n()}else i<u&&(l.current=t);d(),s.current=setTimeout(function(){n(),l.current=0},u)},[u,o,a]);return f.cancel=d,f}var _=function(e,t,n){return Y(e,t,n,100,function(e){return e},function(){return Y(t,e,n)})},N=function(e){return 1-Math.pow(1-e,4)};function Y(e,t,n,r,a,o){void 0===r&&(r=400),void 0===a&&(a=N);var i=t-e;if(0!==i){var u=Date.now(),c=0,l=function(){var t=Math.min(1,(Date.now()-u)/r);n(e+a(t)*i)&&t<1?s():(cancelAnimationFrame(c),t>=1&&o&&o())};s()}function s(){c=requestAnimationFrame(l)}}var X={T:0,L:0,W:0,H:0,FIT:void 0},W=function(){var t=e.useRef(!1);return e.useEffect(function(){return t.current=!0,function(){t.current=!1}},[]),t},S=["className"];function T(e){var t=e.className,n=void 0===t?"":t,i=o(e,S);return r.default.createElement("div",a({className:"PhotoView__Spinner "+n},i),r.default.createElement("svg",{viewBox:"0 0 32 32",width:"36",height:"36",fill:"white"},r.default.createElement("path",{opacity:".25",d:"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"}),r.default.createElement("path",{d:"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z"})))}var V=["src","loaded","broken","className","onPhotoLoad","loadingElement","brokenElement"];function A(e){var t=e.src,n=e.loaded,i=e.broken,u=e.className,c=e.onPhotoLoad,l=e.loadingElement,s=e.brokenElement,d=o(e,V),f=W();return t&&!i?r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"PhotoView__Photo__attr "+(!n&&"loaded")},r.default.createElement("img",a({className:"PhotoView__Photo"+(u?" "+u:""),src:t,onLoad:function(e){var t=e.target;f.current&&c({loaded:!0,naturalWidth:t.naturalWidth,naturalHeight:t.naturalHeight})},onError:function(){f.current&&c({broken:!0})},draggable:!1,alt:"document"},d))),!n&&(l?r.default.createElement("span",{className:"PhotoView__icon"},l):r.default.createElement(T,{className:"PhotoView__icon"}))):s?r.default.createElement("span",{className:"PhotoView__icon"},"function"==typeof s?s({src:t}):s):null}var I={naturalWidth:void 0,naturalHeight:void 0,width:void 0,height:void 0,loaded:void 0,broken:!1,x:0,y:0,touched:!1,maskTouched:!1,rotate:0,scale:1,CX:0,CY:0,lastX:0,lastY:0,lastCX:0,lastCY:0,lastScale:1,touchTime:0,touchLength:0,pause:!0,stopRaf:!0,reach:void 0};function L(t){var n=t.item,o=n.src,c=n.render,l=n.width,s=void 0===l?0:l,f=n.height,g=void 0===f?0:f,p=n.originRef,w=t.visible,b=t.speed,E=t.easing,y=t.wrapClassName,N=t.className,S=t.style,T=t.loadingElement,V=t.brokenElement,L=t.onPhotoTap,H=t.onMaskTap,F=t.onReachMove,D=t.onReachUp,O=t.onPhotoResize,B=t.isActive,j=t.expose,q=u(I),z=q[0],K=q[1],U=e.useRef(0),G=W(),J=z.naturalWidth,Q=void 0===J?s:J,Z=z.naturalHeight,$=void 0===Z?g:Z,ee=z.width,te=void 0===ee?s:ee,ne=z.height,re=void 0===ne?g:ne,ae=z.loaded,oe=void 0===ae?!o:ae,ie=z.broken,ue=z.x,ce=z.y,le=z.touched,se=z.stopRaf,de=z.maskTouched,fe=z.rotate,ve=z.scale,he=z.CX,me=z.CY,ge=z.lastX,pe=z.lastY,we=z.lastCX,be=z.lastCY,Ee=z.lastScale,ye=z.touchTime,xe=z.touchLength,Ce=z.pause,ke=z.reach,Pe=i({onScale:function(e){return Me(v(e))},onRotate:function(e){fe!==e&&(j({rotate:e}),K(a({rotate:e},M(Q,$,e))))}});function Me(e,t,n){ve!==e&&(j({scale:e}),K(a({scale:e},k(ue,ce,te,re,ve,e,t,n),e<=1&&{x:0,y:0})))}var Re=R(function(e,t,n){if(void 0===n&&(n=0),(le||de)&&B){var r=P(fe,te,re),o=r[0],i=r[1];if(0===n&&0===U.current){var u=Math.abs(e-he)<=20,c=Math.abs(t-me)<=20;if(u&&c)return void K({lastCX:e,lastCY:t});U.current=u?t>me?3:2:1}var l,s=e-we,d=t-be;if(0===n){var f=C(s+ge,ve,o,innerWidth)[0],h=C(d+pe,ve,i,innerHeight);l=function(e,t,n,r){return t&&1===e||"x"===r?"x":n&&e>1||"y"===r?"y":void 0}(U.current,f,h[0],ke),void 0!==l&&F(l,e,t,ve)}if("x"===l||de)return void K({reach:"x"});var m=v(ve+(n-xe)/100/2*ve,Q/te,.2);j({scale:m}),K(a({touchLength:n,reach:l,scale:m},k(ue,ce,te,re,ve,m,e,t,s,d)))}},{maxWait:8});function _e(e){return!se&&!le&&(G.current&&K(a({},e,{pause:w})),G.current)}var Ne,Ye,Xe,We,Se,Te,Ve,Ae,Ie=(Se=function(e){return _e({x:e})},Te=function(e){return _e({y:e})},Ve=function(e){return G.current&&(j({scale:e}),K({scale:e})),!le&&G.current},Ae=i({X:function(e){return Se(e)},Y:function(e){return Te(e)},S:function(e){return Ve(e)}}),function(e,t,n,r,a,o,i,u,c,l,s){var d=P(l,a,o),f=d[0],v=d[1],h=C(e,u,f,innerWidth),m=h[0],g=h[1],p=C(t,u,v,innerHeight),w=p[0],b=p[1],E=Date.now()-s;if(E>=200||u!==i||Math.abs(c-i)>1){var y=k(e,t,a,o,i,u),x=y.x,M=y.y,R=m?g:x!==e?x:null,N=w?b:M!==t?M:null;return null!==R&&Y(e,R,Ae.X),null!==N&&Y(t,N,Ae.Y),void(u!==i&&Y(i,u,Ae.S))}var X=(e-n)/E,W=(t-r)/E,S=Math.sqrt(Math.pow(X,2)+Math.pow(W,2)),T=!1,V=!1;!function(e,t){var n,r=e,a=0,o=0,i=function(o){n||(n=o);var i=o-n,l=Math.sign(e),s=-.001*l,d=Math.sign(-r)*Math.pow(r,2)*2e-4,f=r*i+(s+d)*Math.pow(i,2)/2;a+=f,n=o,l*(r+=(s+d)*i)<=0?c():t(a)?u():c()};function u(){o=requestAnimationFrame(i)}function c(){cancelAnimationFrame(o)}u()}(S,function(n){var r=e+n*(X/S),a=t+n*(W/S),o=C(r,i,f,innerWidth),u=o[0],c=o[1],l=C(a,i,v,innerHeight),s=l[0],d=l[1];if(u&&!T&&(T=!0,m?Y(r,c,Ae.X):_(c,r+(r-c),Ae.X)),s&&!V&&(V=!0,w?Y(a,d,Ae.Y):_(d,a+(a-d),Ae.Y)),T&&V)return!1;var h=T||Ae.X(c),g=V||Ae.Y(d);return h&&g})}),Le=(Ne=L,Ye=function(e,t){ke||Me(1!==ve?1:Math.max(2,Q/te),e,t)},Xe=e.useRef(0),We=R(function(){Xe.current=0,Ne.apply(void 0,[].slice.call(arguments))},{wait:300}),function(){var e=[].slice.call(arguments);Xe.current+=1,We.apply(void 0,e),Xe.current>=2&&(We.cancel(),Xe.current=0,Ye.apply(void 0,e))});function He(e,t){if(U.current=0,(le||de)&&B){K({touched:!1,maskTouched:!1,pause:!1,stopRaf:!1,reach:void 0});var n=v(ve,Q/te);if(Ie(ue,ce,ge,pe,te,re,ve,n,Ee,fe,ye),D(e,t),he===e&&me===t){if(le)return void Le(e,t);de&&H(e,t)}}}function Fe(e,t,n){void 0===n&&(n=0),K({touched:!0,CX:e,CY:t,lastCX:e,lastCY:t,lastX:ue,lastY:ce,lastScale:ve,touchLength:n,touchTime:Date.now()})}function De(e){K({maskTouched:!0,CX:e.clientX,CY:e.clientY,lastX:ue,lastY:ce})}m(d?void 0:"mousemove",function(e){e.preventDefault(),Re(e.clientX,e.clientY)}),m(d?void 0:"mouseup",function(e){He(e.clientX,e.clientY)}),m(d?"touchmove":void 0,function(e){e.preventDefault();var t=x(e);Re.apply(void 0,t)},{passive:!1}),m(d?"touchend":void 0,function(e){var t=e.changedTouches[0];He(t.clientX,t.clientY)},{passive:!1}),m("resize",R(function(){oe&&!le&&(K(M(Q,$,fe)),O())},{maxWait:8})),h(function(){B&&j(a({scale:ve,rotate:fe},Pe))},[B]);var Oe=function(t,n,r,a,o,c,l,s,d,f){var v=function(t,n,r,a,o){var i=e.useRef(!1),c=u({lead:!0,scale:r}),l=c[0],s=l.lead,d=l.scale,f=c[1],v=R(function(e){try{return o(!0),f({lead:!1,scale:e}),Promise.resolve()}catch(e){return Promise.reject(e)}},{wait:a});return h(function(){i.current?(o(!1),f({lead:!0}),v(r)):i.current=!0},[r]),s?[t*d,n*d,r/d]:[t*r,n*r,1]}(c,l,s,d,f),m=v[0],g=v[1],p=v[2],w=function(t,n,r,a,o){var u=e.useState(X),c=u[0],l=u[1],s=e.useState(0),d=s[0],f=s[1],v=e.useRef(null),h=i({OK:function(){return t&&f(4)}});function m(e){o(!1),f(e)}return e.useEffect(function(){if(v.current||(v.current=Date.now()),r){if(function(e,t){var n=e&&e.current;if(n&&1===n.nodeType){var r=n.getBoundingClientRect();t({T:r.top,L:r.left,W:r.width,H:r.height,FIT:"IMG"===n.tagName?getComputedStyle(n).objectFit:void 0})}}(n,l),t)return Date.now()-v.current<250?(f(1),requestAnimationFrame(function(){f(2),requestAnimationFrame(function(){return m(3)})}),void setTimeout(h.OK,a)):void f(4);m(5)}},[t,r]),[d,c]}(t,n,r,d,f),b=w[0],E=w[1],y=E.W,x=E.FIT,C=innerWidth/2,k=innerHeight/2,P=b<3||b>4;return[P?y?E.L:C:a+(C-c*s/2),P?y?E.T:k:o+(k-l*s/2),m,P&&x?m*(E.H/y):g,0===b?p:P?y/(c*s)||.01:p,P?x?1:0:1,b,x]}(w,p,oe,ue,ce,te,re,ve,b,function(e){return K({pause:e})}),Be=Oe[4],je=Oe[6],qe="transform "+b+"ms "+E,ze={className:N,onMouseDown:d?void 0:function(e){e.stopPropagation(),0===e.button&&Fe(e.clientX,e.clientY,0)},onTouchStart:d?function(e){e.stopPropagation(),Fe.apply(void 0,x(e))}:void 0,onWheel:function(e){if(!ke){var t=v(ve-e.deltaY/100/2,Q/te);K({stopRaf:!0}),Me(t,e.clientX,e.clientY)}},style:{width:Oe[2]+"px",height:Oe[3]+"px",opacity:Oe[5],objectFit:4===je?void 0:Oe[7],transform:fe?"rotate("+fe+"deg)":void 0,transition:je>2?qe+", opacity "+b+"ms ease, height "+(je<4?b/2:je>4?b:0)+"ms "+E:void 0}};return r.default.createElement("div",{className:"PhotoView__PhotoWrap"+(y?" "+y:""),style:S,onMouseDown:!d&&B?De:void 0,onTouchStart:d&&B?function(e){return De(e.touches[0])}:void 0},r.default.createElement("div",{className:"PhotoView__PhotoBox",style:{transform:"matrix("+Be+", 0, 0, "+Be+", "+Oe[0]+", "+Oe[1]+")",transition:le||Ce?void 0:qe,willChange:B?"transform":void 0}},o?r.default.createElement(A,a({src:o,loaded:oe,broken:ie},ze,{onPhotoLoad:function(e){K(a({},e,e.loaded&&M(e.naturalWidth||0,e.naturalHeight||0,fe)))},loadingElement:T,brokenElement:V})):c&&c({attrs:ze,scale:Be,rotate:fe})))}var H={x:0,touched:!1,pause:!1,lastCX:void 0,lastCY:void 0,bg:void 0,lastBg:void 0,overlay:!0,minimal:!0,scale:1,rotate:0};function F(t){var n=t.loop,a=void 0===n?3:n,o=t.speed,c=t.easing,v=t.photoClosable,g=t.maskClosable,x=void 0===g||g,C=t.maskOpacity,k=void 0===C?1:C,P=t.pullClosable,M=void 0===P||P,R=t.bannerVisible,_=void 0===R||R,N=t.overlayRender,Y=t.toolbarRender,X=t.className,W=t.maskClassName,S=t.photoClassName,T=t.photoWrapClassName,V=t.loadingElement,A=t.brokenElement,I=t.images,F=t.index,D=void 0===F?0:F,O=t.onIndexChange,B=t.visible,j=t.onClose,q=t.afterClose,z=t.portalContainer,K=u(H),U=K[0],G=K[1],J=e.useState(0),Q=J[0],Z=J[1],$=U.x,ee=U.touched,te=U.pause,ne=U.lastCX,re=U.lastCY,ae=U.bg,oe=void 0===ae?k:ae,ie=U.lastBg,ue=U.overlay,ce=U.minimal,le=U.scale,se=U.rotate,de=U.onScale,fe=U.onRotate,ve=t.hasOwnProperty("index"),he=ve?D:Q,me=ve?O:Z,ge=e.useRef(he),pe=I.length,we=I[he],be="boolean"==typeof a?a:pe>a,Ee=function(t,n){var r=e.useReducer(function(e){return!e},!1)[1],a=e.useRef(0),o=function(n){var r=e.useRef(n);function o(e){r.current=e}return e.useMemo(function(){!function(e){t?(e(t),a.current=1):a.current=2}(o)},[n]),[r.current,o]}(t),i=o[1];return[o[0],a.current,function(){r(),2===a.current&&(i(!1),n&&n()),a.current=0}]}(B,q),ye=Ee[0],xe=Ee[1],Ce=Ee[2];h(function(){if(ye)return G({pause:!0,x:he*-(innerWidth+s)}),void(ge.current=he);G(H)},[ye]);var ke=i({close:function(e){fe&&fe(0),G({overlay:!0,lastBg:oe}),j(e)},changeIndex:function(e,t){void 0===t&&(t=!1);var n=be?ge.current+(e-he):e,r=pe-1,a=f(n,0,r),o=be?n:a,i=innerWidth+s;G({touched:!1,lastCX:void 0,lastCY:void 0,x:-i*o,pause:t}),ge.current=o,me&&me(be?e<0?r:e>r?0:e:a)}}),Pe=ke.close,Me=ke.changeIndex;function Re(e){return e?Pe():G({overlay:!ue})}function _e(){G({x:-(innerWidth+s)*he,lastCX:void 0,lastCY:void 0,pause:!0}),ge.current=he}function Ne(e,t,n,r){"x"===e?function(e){if(void 0!==ne){var t=e-ne,n=t;!be&&(0===he&&t>0||he===pe-1&&t<0)&&(n=t/2),G({touched:!0,lastCX:ne,x:-(innerWidth+s)*ge.current+n,pause:!1})}else G({touched:!0,lastCX:e,x:$,pause:!1})}(t):"y"===e&&function(e,t){if(void 0!==re){var n=null===k?null:f(k,.01,k-Math.abs(e-re)/100/4);G({touched:!0,lastCY:re,bg:1===t?n:k,minimal:1===t})}else G({touched:!0,lastCY:e,bg:oe,minimal:!0})}(n,r)}function Ye(e,t){var n=e-(null!=ne?ne:e),r=t-(null!=re?re:t),a=!1;if(n<-100)Me(he+1);else if(n>100)Me(he-1);else{var o=-(innerWidth+s)*ge.current;Math.abs(r)>100&&ce&&M&&(a=!0,Pe()),G({touched:!1,x:o,lastCX:void 0,lastCY:void 0,bg:k,overlay:!!a||ue})}}m("keydown",function(e){if(B)switch(e.key){case"ArrowLeft":Me(he-1,!0);break;case"ArrowRight":Me(he+1,!0);break;case"Escape":Pe()}});var Xe=function(t,n,r){return e.useMemo(function(){var e=t.length;return r?t.concat(t).concat(t).slice(e+n-1,e+n+2):t.slice(Math.max(n-1,0),Math.min(n+2,e+1))},[t,n,r])}(I,he,be);if(!ye)return null;var We=ue&&!xe,Se=B?oe:ie,Te=de&&fe&&{images:I,index:he,visible:B,onClose:Pe,onIndexChange:Me,overlayVisible:We,overlay:we&&we.overlay,scale:le,rotate:se,onScale:de,onRotate:fe},Ve=o?o(xe):400,Ae=c?c(xe):l,Ie=o?o(3):600,Le=c?c(3):l;return r.default.createElement(p,{className:"PhotoView-Portal"+(We?"":" PhotoView-Slider__clean")+(B?"":" PhotoView-Slider__willClose")+(X?" "+X:""),role:"dialog",onClick:function(e){return e.stopPropagation()},container:z},B&&r.default.createElement(y,null),r.default.createElement("div",{className:"PhotoView-Slider__Backdrop"+(W?" "+W:"")+(1===xe?" PhotoView-Slider__fadeIn":2===xe?" PhotoView-Slider__fadeOut":""),style:{background:Se?"rgba(0, 0, 0, "+Se+")":void 0,transitionTimingFunction:Ae,transitionDuration:(ee?0:Ve)+"ms",animationDuration:Ve+"ms"},onAnimationEnd:Ce}),_&&r.default.createElement("div",{className:"PhotoView-Slider__BannerWrap"},r.default.createElement("div",{className:"PhotoView-Slider__Counter"},he+1," / ",pe),r.default.createElement("div",{className:"PhotoView-Slider__BannerRight"},Y&&Te&&Y(Te),r.default.createElement(w,{className:"close",onClick:Pe}))),Xe.map(function(e,t){var n=be||0!==he?ge.current-1+t:he+t;return r.default.createElement(L,{key:be?e.key+"/"+e.src+"/"+n:e.key,item:e,speed:Ve,easing:Ae,visible:B,onReachMove:Ne,onReachUp:Ye,onPhotoTap:function(){return Re(v)},onMaskTap:function(){return Re(x)},wrapClassName:T,className:S,style:{left:(innerWidth+s)*n+"px",transform:"translate3d("+$+"px, 0px, 0)",transition:ee||te?void 0:"transform "+Ie+"ms "+Le},loadingElement:V,brokenElement:A,onPhotoResize:_e,isActive:ge.current===n,expose:G})}),!d&&_&&r.default.createElement(r.default.Fragment,null,(be||0!==he)&&r.default.createElement("div",{className:"PhotoView-Slider__ArrowLeft",onClick:function(){return Me(he-1,!0)}},r.default.createElement(b,null)),(be||he+1<pe)&&r.default.createElement("div",{className:"PhotoView-Slider__ArrowRight",onClick:function(){return Me(he+1,!0)}},r.default.createElement(E,null))),N&&Te&&r.default.createElement("div",{className:"PhotoView-Slider__Overlay"},N(Te)))}var D=["children","onIndexChange","onVisibleChange"],O={images:[],visible:!1,index:0};exports.PhotoProvider=function(t){var n=t.children,l=t.onIndexChange,s=t.onVisibleChange,d=o(t,D),f=u(O),v=f[0],h=f[1],m=e.useRef(0),g=v.images,p=v.visible,w=v.index,b=i({nextId:function(){return m.current+=1},update:function(e){var t=g.findIndex(function(t){return t.key===e.key});if(t>-1){var n=g.slice();return n.splice(t,1,e),void h({images:n})}h(function(t){return{images:t.images.concat(e)}})},remove:function(e){h(function(t){var n=t.images.filter(function(t){return t.key!==e});return{images:n,index:Math.min(n.length-1,w)}})},show:function(e){var t=g.findIndex(function(t){return t.key===e});h({visible:!0,index:t}),s&&s(!0,t,v)}}),E=i({close:function(){h({visible:!1}),s&&s(!1,w,v)},changeIndex:function(e){h({index:e}),l&&l(e,v)}}),y=e.useMemo(function(){return a({},v,b)},[v,b]);return r.default.createElement(c.Provider,{value:y},n,r.default.createElement(F,a({images:g,visible:p,index:w,onIndexChange:E.changeIndex,onClose:E.close},d)))},exports.PhotoSlider=F,exports.PhotoView=function(t){var n,r,o=t.src,u=t.render,l=t.overlay,s=t.width,d=t.height,f=t.triggers,v=void 0===f?["onClick"]:f,h=t.children,m=e.useContext(c),g=(n=function(){return m.nextId()},(r=e.useRef({sign:!1,fn:void 0}).current).sign||(r.sign=!0,r.fn=n()),r.fn),p=e.useRef(null);e.useEffect(function(){return function(){m.remove(g)}},[]);var w=i({render:function(e){return u&&u(e)},show:function(e,t){m.show(g),function(e,t){if(h){var n=h.props[e];n&&n(t)}}(e,t)}}),b=e.useMemo(function(){var e={};return v.forEach(function(t){e[t]=w.show.bind(null,t)}),e},[]);return e.useEffect(function(){m.update({key:g,src:o,originRef:p,render:w.render,overlay:l,width:s,height:d})},[o]),h?e.Children.only(e.cloneElement(h,a({},b,{ref:p}))):null};
//# sourceMappingURL=react-photo-view.js.map
