var e=require("react"),t=require("react-dom");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=/*#__PURE__*/n(e);function a(t){const{current:n}=e.useRef({fn:t,curr:void 0});if(n.fn=t,!n.curr){const e=Object.create(null);Object.keys(t).forEach(t=>{e[t]=function(){return n.fn[t].call(n.fn,...[].slice.call(arguments))}}),n.curr=e}return n.curr}function r(t){return e.useReducer((e,t)=>({...e,..."function"==typeof t?t(e):t}),t)}var i=e.createContext(void 0);const c="cubic-bezier(0.25, 0.8, 0.25, 1)",l=20,s=1,u="undefined"!=typeof window&&"ontouchstart"in window,d=(e,t,n)=>Math.max(Math.min(e,n),t),f=(e,t=0,n=0)=>d(e,1*(1-n),Math.max(6,t)*(1+n));var h="undefined"==typeof window||/ServerSideRendering/.test(navigator&&navigator.userAgent)?e.useEffect:e.useLayoutEffect;function m(t,n,o){const a=e.useRef(n);a.current=n,e.useEffect(()=>{function e(e){a.current(e)}return t&&window.addEventListener(t,e,o),()=>{t&&window.removeEventListener(t,e)}},[t])}function v({container:e=document.body,...n}){return t.createPortal(o.default.createElement("div",{...n}),e)}function g(e){return o.default.createElement("button",{...e},o.default.createElement("div",{className:"in"},o.default.createElement("div",{className:"close-button-block"}),o.default.createElement("div",{className:"close-button-block"})),o.default.createElement("div",{className:"out"},o.default.createElement("div",{className:"close-button-block"}),o.default.createElement("div",{className:"close-button-block"})))}function w(e){return o.default.createElement("svg",{width:"44",height:"44",viewBox:"0 0 768 768",...e},o.default.createElement("path",{d:"M640.5 352.5v63h-390l178.5 180-45 45-256.5-256.5 256.5-256.5 45 45-178.5 180h390z"}))}function p(e){return o.default.createElement("svg",{width:"44",height:"44",viewBox:"0 0 768 768",...e},o.default.createElement("path",{d:"M384 127.5l256.5 256.5-256.5 256.5-45-45 178.5-180h-390v-63h390l-178.5-180z"}))}function _(){return e.useEffect(()=>{const{style:e}=document.body,t=e.overflow;return e.overflow="hidden",()=>{e.overflow=t}},[]),null}function b(e){const{clientX:t,clientY:n}=e.touches[0];if(e.touches.length>=2){const{clientX:o,clientY:a}=e.touches[1];return[(t+o)/2,(n+a)/2,Math.sqrt((o-t)**2+(a-n)**2)]}return[t,n,0]}const E=(e,t,n,o)=>{const a=n*t,r=(a-o)/2;let i,c=e;return a<=o?(i=1,c=0):e>0&&r-e<=0?(i=2,c=r):e<0&&r+e<=0&&(i=3,c=-r),[i,c]};function y(e,t,n,o,a,r,i=innerWidth/2,c=innerHeight/2,l=0,s=0){const[u]=E(e,r,n,innerWidth),[d]=E(t,r,o,innerHeight),f=innerWidth/2,h=innerHeight/2;return{x:i-r/a*(i-(f+e))-f+(o/n>=3&&n*r===innerWidth?0:u?l/2:l),y:c-r/a*(c-(h+t))-h+(d?s/2:s),lastCX:i,lastCY:c}}function C(e,t,n){const o=e%180!=0;return o?[n,t,o]:[t,n,o]}function x(e,t,n){const[o,a,r]=C(n,innerWidth,innerHeight);let i=0,c=o,l=a;const s=e/t*a,u=t/e*o;return e<o&&t<a?(c=e,l=t):e<o&&t>=a?c=s:e>=o&&t<a||e/t>o/a?l=u:t/e>=3&&!r?(l=u,i=(l-a)/2):c=s,c>448?(c=448,l=t/e*448):(c-=30,l=t/e*c),{width:c,height:l,x:0,y:i,pause:!0}}function P(t,{leading:n=!1,maxWait:o,wait:a=o||0}){const r=e.useRef(t);r.current=t;const i=e.useRef(0),c=e.useRef(null),l=()=>c.current&&clearTimeout(c.current),s=e.useCallback(function(){var e=[].slice.call(arguments);const t=Date.now();function s(){i.current=t,l(),r.current.apply(null,e)}const u=i.current,d=t-u;if(0===u&&(n&&s(),i.current=t),void 0!==o){if(d>o)return void s()}else d<a&&(i.current=t);l(),c.current=setTimeout(()=>{s(),i.current=0},a)},[a,o,n]);return s.cancel=l,s}const k=(e,t,n)=>N(e,t,n,100,e=>e,()=>N(t,e,n)),R=e=>1-(1-e)**4;function N(e,t,n,o=400,a=R,r){const i=t-e;if(0===i)return;const c=Date.now();let l=0;const s=()=>{const t=Math.min(1,(Date.now()-c)/o);n(e+a(t)*i)&&t<1?u():(cancelAnimationFrame(l),t>=1&&r&&r())};function u(){l=requestAnimationFrame(s)}u()}const M={T:0,L:0,W:0,H:0,FIT:void 0},X=()=>{const t=e.useRef(!1);return e.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function Y({className:e="",...t}){return o.default.createElement("div",{className:`PhotoView__Spinner ${e}`,...t},o.default.createElement("svg",{viewBox:"0 0 32 32",width:"36",height:"36",fill:"white"},o.default.createElement("path",{opacity:".25",d:"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"}),o.default.createElement("path",{d:"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z"})))}function $({src:e,loaded:t,broken:n,className:a,onPhotoLoad:r,loadingElement:i,brokenElement:c,title:l,description:s,...u}){const d=X();return e&&!n?o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:`PhotoView__Photo__attr ${!t&&"loaded"}`},t&&l&&o.default.createElement("div",{className:"PhotoView__Photo__title"},l),o.default.createElement("img",{className:"PhotoView__Photo"+(a?` ${a}`:""),src:e,onLoad:function(e){const{naturalWidth:t,naturalHeight:n}=e.target;d.current&&r({loaded:!0,naturalWidth:t,naturalHeight:n})},onError:function(){d.current&&r({broken:!0})},draggable:!1,alt:"document",...u}),t&&s&&o.default.createElement("div",{className:"PhotoView__Photo__description"},s)),!t&&(i?o.default.createElement("span",{className:"PhotoView__icon"},i):o.default.createElement(Y,{className:"PhotoView__icon"}))):c?o.default.createElement("span",{className:"PhotoView__icon"},"function"==typeof c?c({src:e}):c):null}const S={naturalWidth:void 0,naturalHeight:void 0,width:void 0,height:void 0,loaded:void 0,broken:!1,x:0,y:0,touched:!1,maskTouched:!1,rotate:0,scale:1,CX:0,CY:0,lastX:0,lastY:0,lastCX:0,lastCY:0,lastScale:1,touchTime:0,touchLength:0,pause:!0,stopRaf:!0,reach:void 0};function W({item:{src:t,render:n,width:i=0,height:c=0,originRef:l,title:s,description:d},visible:v,speed:g,easing:w,wrapClassName:p,className:_,style:R,loadingElement:Y,brokenElement:W,onPhotoTap:V,onMaskTap:T,onReachMove:L,onReachUp:A,onPhotoResize:I,isActive:H,expose:B}){const[F,D]=r(S),q=e.useRef(0),O=X(),{naturalWidth:z=i,naturalHeight:j=c,width:K=i,height:U=c,loaded:G=!t,broken:J,x:Q,y:Z,touched:ee,stopRaf:te,maskTouched:ne,rotate:oe,scale:ae,CX:re,CY:ie,lastX:ce,lastY:le,lastCX:se,lastCY:ue,lastScale:de,touchTime:fe,touchLength:he,pause:me,reach:ve}=F,ge=a({onScale:e=>we(f(e)),onRotate(e){oe!==e&&(B({rotate:e}),D({rotate:e,...x(z,j,e)}))}});function we(e,t,n){ae!==e&&(B({scale:e}),D({scale:e,...y(Q,Z,K,U,ae,e,t,n),...e<=1&&{x:0,y:0}}))}const pe=P((e,t,n=0)=>{if((ee||ne)&&H){const[o,a]=C(oe,K,U);if(0===n&&0===q.current){const n=Math.abs(e-re)<=20,o=Math.abs(t-ie)<=20;if(n&&o)return void D({lastCX:e,lastCY:t});q.current=n?t>ie?3:2:1}const r=e-se,i=t-ue;let c;if(0===n){const[n]=E(r+ce,ae,o,innerWidth),[l]=E(i+le,ae,a,innerHeight);c=((e,t,n,o)=>t&&1===e||"x"===o?"x":n&&e>1||"y"===o?"y":void 0)(q.current,n,l,ve),void 0!==c&&L(c,e,t,ae)}if("x"===c||ne)return void D({reach:"x"});const l=f(ae+(n-he)/100/2*ae,z/K,.2);B({scale:l}),D({touchLength:n,reach:c,scale:l,...y(Q,Z,K,U,ae,l,e,t,r,i)})}},{maxWait:8});function _e(e){return!te&&!ee&&(O.current&&D({...e,pause:v}),O.current)}const be=function(){const e=a({X:e=>_e({x:e}),Y:e=>_e({y:e}),S:e=>{return t=e,O.current&&(B({scale:t}),D({scale:t})),!ee&&O.current;var t}});return(t,n,o,a,r,i,c,l,s,u,d)=>{const[f,h]=C(u,r,i),[m,v]=E(t,l,f,innerWidth),[g,w]=E(n,l,h,innerHeight),p=Date.now()-d;if(p>=200||l!==c||Math.abs(s-c)>1){const{x:o,y:a}=y(t,n,r,i,c,l),s=m?v:o!==t?o:null,u=g?w:a!==n?a:null;return null!==s&&N(t,s,e.X),null!==u&&N(n,u,e.Y),void(l!==c&&N(c,l,e.S))}const _=(t-o)/p,b=(n-a)/p,x=Math.sqrt(_**2+b**2);let P=!1,R=!1;!function(e,t){let n,o=e,a=0,r=0;const i=r=>{n||(n=r);const i=r-n,s=Math.sign(e),u=-.001*s,d=Math.sign(-o)*o**2*2e-4,f=o*i+(u+d)*i**2/2;o+=(u+d)*i,a+=f,n=r,s*o<=0?l():t(a)?c():l()};function c(){r=requestAnimationFrame(i)}function l(){cancelAnimationFrame(r)}c()}(x,o=>{const a=t+o*(_/x),r=n+o*(b/x),[i,l]=E(a,c,f,innerWidth),[s,u]=E(r,c,h,innerHeight);if(i&&!P&&(P=!0,m?N(a,l,e.X):k(l,a+(a-l),e.X)),s&&!R&&(R=!0,g?N(r,u,e.Y):k(u,r+(r-u),e.Y)),P&&R)return!1;const d=P||e.X(l),v=R||e.Y(u);return d&&v})}}(),Ee=function(t){const n=e.useRef(0),o=P(function(){n.current=0,t(...[].slice.call(arguments))},{wait:300});return function(){var e=[].slice.call(arguments);n.current+=1,o(...e),n.current>=2&&(o.cancel(),n.current=0,((e,t)=>{ve||we(1!==ae?1:Math.max(2,z/K),e,t)})(...e))}}(V);function ye(e,t){if(q.current=0,(ee||ne)&&H){D({touched:!1,maskTouched:!1,pause:!1,stopRaf:!1,reach:void 0});const n=f(ae,z/K);if(be(Q,Z,ce,le,K,U,ae,n,de,oe,fe),A(e,t),re===e&&ie===t){if(ee)return void Ee(e,t);ne&&T(e,t)}}}function Ce(e,t,n=0){D({touched:!0,CX:e,CY:t,lastCX:e,lastCY:t,lastX:Q,lastY:Z,lastScale:ae,touchLength:n,touchTime:Date.now()})}function xe(e){D({maskTouched:!0,CX:e.clientX,CY:e.clientY,lastX:Q,lastY:Z})}m(u?void 0:"mousemove",e=>{e.preventDefault(),pe(e.clientX,e.clientY)}),m(u?void 0:"mouseup",e=>{ye(e.clientX,e.clientY)}),m(u?"touchmove":void 0,e=>{e.preventDefault();const t=b(e);pe(...t)},{passive:!1}),m(u?"touchend":void 0,({changedTouches:e})=>{const t=e[0];ye(t.clientX,t.clientY)},{passive:!1}),m("resize",P(()=>{G&&!ee&&(D(x(z,j,oe)),I())},{maxWait:8})),h(()=>{H&&B({scale:ae,rotate:oe,...ge})},[H]);const[Pe,ke,Re,Ne,Me,Xe,Ye,$e]=function(t,n,o,i,c,l,s,u,d,f){const[m,v,g]=function(t,n,o,a,i){const c=e.useRef(!1),[{lead:l,scale:s},u]=r({lead:!0,scale:o}),d=P(function(e){try{return i(!0),u({lead:!1,scale:e}),Promise.resolve()}catch(e){return Promise.reject(e)}},{wait:a});return h(()=>{c.current?(i(!1),u({lead:!0}),d(o)):c.current=!0},[o]),l?[t*s,n*s,o/s]:[t*o,n*o,1]}(l,s,u,d,f),[w,p]=function(t,n,o,r,i){const[c,l]=e.useState(M),[s,u]=e.useState(0),d=e.useRef(null),f=a({OK:()=>t&&u(4)});function h(e){i(!1),u(e)}return e.useEffect(()=>{if(d.current||(d.current=Date.now()),o){if(function(e,t){const n=e&&e.current;if(n&&1===n.nodeType){const{top:e,left:o,width:a,height:r}=n.getBoundingClientRect();t({T:e,L:o,W:a,H:r,FIT:"IMG"===n.tagName?getComputedStyle(n).objectFit:void 0})}}(n,l),t)return Date.now()-d.current<250?(u(1),requestAnimationFrame(()=>{u(2),requestAnimationFrame(()=>h(3))}),void setTimeout(f.OK,r)):void u(4);h(5)}},[t,o]),[s,c]}(t,n,o,d,f),{T:_,L:b,W:E,H:y,FIT:C}=p,x=innerWidth/2,k=innerHeight/2,R=w<3||w>4;return[R?E?b:x:i+(x-l*u/2),R?E?_:k:c+(k-s*u/2),m,R&&C?m*(y/E):v,0===w?g:R?E/(l*u)||.01:g,R?C?1:0:1,w,C]}(v,l,G,Q,Z,K,U,ae,g,e=>D({pause:e})),Se=`transform ${g}ms ${w}`,We={className:_,onMouseDown:u?void 0:function(e){e.stopPropagation(),0===e.button&&Ce(e.clientX,e.clientY,0)},onTouchStart:u?function(e){e.stopPropagation(),Ce(...b(e))}:void 0,onWheel:function(e){if(!ve){const t=f(ae-e.deltaY/100/2,z/K);D({stopRaf:!0}),we(t,e.clientX,e.clientY)}},style:{width:`${Re}px`,height:`${Ne}px`,opacity:Xe,objectFit:4===Ye?void 0:$e,transform:oe?`rotate(${oe}deg)`:void 0,transition:Ye>2?`${Se}, opacity ${g}ms ease, height ${Ye<4?g/2:Ye>4?g:0}ms ${w}`:void 0}};return o.default.createElement("div",{className:"PhotoView__PhotoWrap"+(p?` ${p}`:""),style:R,onMouseDown:!u&&H?xe:void 0,onTouchStart:u&&H?e=>xe(e.touches[0]):void 0},o.default.createElement("div",{className:"PhotoView__PhotoBox",style:{transform:`matrix(${Me}, 0, 0, ${Me}, ${Pe}, ${ke})`,transition:ee||me?void 0:Se,willChange:H?"transform":void 0}},t?o.default.createElement($,{title:s,description:d,src:t,loaded:G,broken:J,...We,onPhotoLoad:function(e){D({...e,...e.loaded&&x(e.naturalWidth||0,e.naturalHeight||0,oe)})},loadingElement:Y,brokenElement:W}):n&&n({attrs:We,scale:Me,rotate:oe})))}const V={x:0,touched:!1,pause:!1,lastCX:void 0,lastCY:void 0,bg:void 0,lastBg:void 0,overlay:!0,minimal:!0,scale:1,rotate:0};function T(t){const{loop:n=3,speed:i,easing:f,photoClosable:b,maskClosable:E=!0,maskOpacity:y=s,pullClosable:C=!0,bannerVisible:x=!0,overlayRender:P,toolbarRender:k,className:R,maskClassName:N,photoClassName:M,photoWrapClassName:X,loadingElement:Y,brokenElement:$,images:S,index:T=0,onIndexChange:L,visible:A,onClose:I,afterClose:H,portalContainer:B}=t,[F,D]=r(V),[q,O]=e.useState(0),{x:z,touched:j,pause:K,lastCX:U,lastCY:G,bg:J=y,lastBg:Q,overlay:Z,minimal:ee,scale:te,rotate:ne,onScale:oe,onRotate:ae}=F,re=t.hasOwnProperty("index"),ie=re?T:q,ce=re?L:O,le=e.useRef(ie);e.useEffect(()=>()=>{document.body.classList.remove("modal__nav-arrow--left","modal__nav-arrow--right"),setTimeout(()=>{document.body.classList.remove("modal__nav-arrow--left","modal__nav-arrow--right")},1e3)},[]);const se=S.length,ue=S[ie],de="boolean"==typeof n?n:se>n,[fe,he,me]=function(t,n){const[,o]=e.useReducer(e=>!e,!1),a=e.useRef(0),[r,i]=function(n){const o=e.useRef(n);function r(e){o.current=e}return e.useMemo(()=>{(e=>{t?(e(t),a.current=1):a.current=2})(r)},[n]),[o.current,r]}(t);return[r,a.current,function(){o(),2===a.current&&(i(!1),n&&n()),a.current=0}]}(A,H);h(()=>{if(fe)return D({pause:!0,x:ie*-(innerWidth+l)}),void(le.current=ie);D(V)},[fe]);const{close:ve,changeIndex:ge}=a({close(e){ae&&ae(0),document.body.classList.remove("modal__nav-arrow--left","modal__nav-arrow--right"),D({overlay:!0,lastBg:J}),I(e)},changeIndex(e,t=!1){const n=de?le.current+(e-ie):e,o=se-1,a=d(n,0,o),r=de?n:a,i=innerWidth+l;D({touched:!1,lastCX:void 0,lastCY:void 0,x:-i*r,pause:t}),le.current=r,ce&&ce(de?e<0?o:e>o?0:e:a)}});function we(e){return e?ve():D({overlay:!Z})}function pe(){D({x:-(innerWidth+l)*ie,lastCX:void 0,lastCY:void 0,pause:!0}),le.current=ie}function _e(e,t,n,o){"x"===e?function(e){if(void 0===U)return void D({touched:!0,lastCX:e,x:z,pause:!1});const t=e-U;let n=t;!de&&(0===ie&&t>0||ie===se-1&&t<0)&&(n=t/2),D({touched:!0,lastCX:U,x:-(innerWidth+l)*le.current+n,pause:!1})}(t):"y"===e&&function(e,t){if(void 0===G)return void D({touched:!0,lastCY:e,bg:J,minimal:!0});const n=null===y?null:d(y,.01,y-Math.abs(e-G)/100/4);D({touched:!0,lastCY:G,bg:1===t?n:y,minimal:1===t})}(n,o)}function be(e,t){const n=e-(U??e),o=t-(G??t);let a=!1;if(n<-100)return void ge(ie+1);if(n>100)return void ge(ie-1);const r=-(innerWidth+l)*le.current;Math.abs(o)>100&&ee&&C&&(a=!0,ve()),D({touched:!1,x:r,lastCX:void 0,lastCY:void 0,bg:y,overlay:!!a||Z})}m("keydown",e=>{if(A)switch(e.key){case"ArrowLeft":ge(ie-1,!0);break;case"ArrowRight":ge(ie+1,!0);break;case"Escape":ve()}});const Ee=function(t,n,o){return e.useMemo(()=>{const e=t.length;return o?t.concat(t).concat(t).slice(e+n-1,e+n+2):t.slice(Math.max(n-1,0),Math.min(n+2,e+1))},[t,n,o])}(S,ie,de);if(!fe)return null;const ye=Z&&!he,Ce=A?J:Q,xe=oe&&ae&&{images:S,index:ie,visible:A,onClose:ve,onIndexChange:ge,overlayVisible:ye,overlay:ue&&ue.overlay,scale:te,rotate:ne,onScale:oe,onRotate:ae},Pe=i?i(he):400,ke=f?f(he):c,Re=i?i(3):600,Ne=f?f(3):c;return o.default.createElement(v,{className:`PhotoView-Portal${ye?"":" PhotoView-Slider__clean"}${A?"":" PhotoView-Slider__willClose"}${R?` ${R}`:""}`,role:"dialog",onClick:e=>{e.stopPropagation(),(e=>{const t=e.target;if(t?.closest(".PhotoView-Slider__BannerRight")||t?.closest(".PhotoView-Slider__ArrowLeft")||t?.closest(".PhotoView-Slider__ArrowRight"))return;const n=e.currentTarget.getBoundingClientRect();e.clientX-n.left<=n.width/2?(de||0!==ie)&&ge(ie-1,!0):(de||ie+1<se)&&ge(ie+1,!0)})(e)},onMouseMove:e=>{const t=e.currentTarget.getBoundingClientRect(),n=e.clientX-t.left,o=t.width/2;document.body.classList.remove("modal__nav-arrow--left","modal__nav-arrow--right"),n<=o?document.body.classList.add("modal__nav-arrow--left"):document.body.classList.add("modal__nav-arrow--right")},onMouseLeave:e=>{document.body.classList.remove("modal__nav-arrow--left","modal__nav-arrow--right")},container:B},A&&o.default.createElement(_,null),o.default.createElement("div",{className:`PhotoView-Slider__Backdrop${N?` ${N}`:""}${1===he?" PhotoView-Slider__fadeIn":2===he?" PhotoView-Slider__fadeOut":""}`,style:{background:Ce?`rgba(0, 0, 0, ${Ce})`:void 0,transitionTimingFunction:ke,transitionDuration:`${j?0:Pe}ms`,animationDuration:`${Pe}ms`},onAnimationEnd:me}),x&&o.default.createElement("div",{className:"PhotoView-Slider__BannerWrap"},o.default.createElement("div",{className:"PhotoView-Slider__Counter"},ie+1," / ",se),o.default.createElement("div",{className:"PhotoView-Slider__BannerRight"},k&&xe&&k(xe),o.default.createElement(g,{className:"close",onClick:ve}))),Ee.map((e,t)=>{const n=de||0!==ie?le.current-1+t:ie+t;return o.default.createElement(W,{key:de?`${e.key}/${e.src}/${n}`:e.key,item:e,speed:Pe,easing:ke,visible:A,onReachMove:_e,onReachUp:be,onPhotoTap:()=>we(b),onMaskTap:()=>we(E),wrapClassName:X,className:M,style:{left:(innerWidth+l)*n+"px",transform:`translate3d(${z}px, 0px, 0)`,transition:j||K?void 0:`transform ${Re}ms ${Ne}`},loadingElement:Y,brokenElement:$,onPhotoResize:pe,isActive:le.current===n,expose:D})}),!u&&x&&o.default.createElement(o.default.Fragment,null,(de||0!==ie)&&o.default.createElement("div",{className:"PhotoView-Slider__ArrowLeft",onClick:()=>ge(ie-1,!0)},o.default.createElement(w,null)),(de||ie+1<se)&&o.default.createElement("div",{className:"PhotoView-Slider__ArrowRight",onClick:()=>ge(ie+1,!0)},o.default.createElement(p,null))),P&&xe&&o.default.createElement("div",{className:"PhotoView-Slider__Overlay"},P(xe)))}const L={images:[],visible:!1,index:0};exports.PhotoProvider=function({children:t,onIndexChange:n,onVisibleChange:c,...l}){const[s,u]=r(L),d=e.useRef(0),{images:f,visible:h,index:m}=s,v=a({nextId:()=>d.current+=1,update(e){const t=f.findIndex(t=>t.key===e.key);if(t>-1){const n=f.slice();return n.splice(t,1,e),void u({images:n})}u(t=>({images:t.images.concat(e)}))},remove(e){u(t=>{const n=t.images.filter(t=>t.key!==e);return{images:n,index:Math.min(n.length-1,m)}})},show(e){const t=f.findIndex(t=>t.key===e);u({visible:!0,index:t}),c&&c(!0,t,s)}}),g=a({close(){u({visible:!1}),c&&c(!1,m,s)},changeIndex(e){u({index:e}),n&&n(e,s)}}),w=e.useMemo(()=>({...s,...v}),[s,v]);return o.default.createElement(i.Provider,{value:w},t,o.default.createElement(T,{images:f,visible:h,index:m,onIndexChange:g.changeIndex,onClose:g.close,...l}))},exports.PhotoSlider=T,exports.PhotoView=({src:t,render:n,overlay:o,width:r,height:c,triggers:l=["onClick"],children:s,title:u,description:d})=>{const f=e.useContext(i),h=function(){const{current:t}=e.useRef({sign:!1,fn:void 0});return t.sign||(t.sign=!0,t.fn=f.nextId()),t.fn}(),m=e.useRef(null);e.useEffect(()=>()=>{f.remove(h)},[]);const v=a({render:e=>n&&n(e),show(e,t){f.show(h),function(e,t){if(s){const n=s.props[e];n&&n(t)}}(e,t)}}),g=e.useMemo(()=>{const e={};return l.forEach(t=>{e[t]=v.show.bind(null,t)}),e},[]);return e.useEffect(()=>{f.update({key:h,src:t,originRef:m,render:v.render,overlay:o,width:r,height:c,title:u,description:d})},[t]),s?e.Children.only(e.cloneElement(s,{...g,ref:m})):null};
//# sourceMappingURL=react-photo-view.js.map
