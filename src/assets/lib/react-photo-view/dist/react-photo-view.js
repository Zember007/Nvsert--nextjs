var e=require("react/jsx-runtime"),n=require("react"),t=require("react-dom");function r(){return r=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},r.apply(null,arguments)}function i(e,n){if(null==e)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==n.indexOf(r))continue;t[r]=e[r]}return t}function o(e){var t=n.useRef({fn:e,curr:void 0}).current;if(t.fn=e,!t.curr){var r=Object.create(null);Object.keys(e).forEach(function(e){r[e]=function(){var n;return(n=t.fn[e]).call.apply(n,[t.fn].concat([].slice.call(arguments)))}}),t.curr=r}return t.curr}function a(e){return n.useReducer(function(e,n){return r({},e,"function"==typeof n?n(e):n)},e)}var c=n.createContext(void 0),u="cubic-bezier(0.25, 0.8, 0.25, 1)",s="undefined"!=typeof window&&"ontouchstart"in window,l=function(e,n,t){return Math.max(Math.min(e,t),n)},d=function(e,n,t){return void 0===n&&(n=0),void 0===t&&(t=0),l(e,1*(1-t),Math.max(6,n)*(1+t))},f="undefined"==typeof window||/ServerSideRendering/.test(navigator&&navigator.userAgent)?n.useEffect:n.useLayoutEffect;function v(e,t,r){var i=n.useRef(t);i.current=t,n.useEffect(function(){function n(e){i.current(e)}return e&&window.addEventListener(e,n,r),function(){e&&window.removeEventListener(e,n)}},[e])}var h=["container"];function m(n){var o=n.container,a=void 0===o?document.body:o,c=i(n,h);return t.createPortal(e.jsx("div",r({},c)),a)}function g(n){return e.jsxs("button",r({},n,{children:[e.jsxs("div",{className:"in",children:[e.jsx("div",{className:"close-button-block"}),e.jsx("div",{className:"close-button-block"})]}),e.jsxs("div",{className:"out",children:[e.jsx("div",{className:"close-button-block"}),e.jsx("div",{className:"close-button-block"})]})]}))}function p(n){return e.jsx("svg",r({width:"44",height:"44",viewBox:"0 0 768 768"},n,{children:e.jsx("path",{d:"M640.5 352.5v63h-390l178.5 180-45 45-256.5-256.5 256.5-256.5 45 45-178.5 180h390z"})}))}function x(n){return e.jsx("svg",r({width:"44",height:"44",viewBox:"0 0 768 768"},n,{children:e.jsx("path",{d:"M384 127.5l256.5 256.5-256.5 256.5-45-45 178.5-180h-390v-63h390l-178.5-180z"})}))}function w(){return n.useEffect(function(){var e=document.body.style,n=e.overflow;return e.overflow="hidden",function(){e.overflow=n}},[]),null}function y(e){var n=e.touches[0],t=n.clientX,r=n.clientY;if(e.touches.length>=2){var i=e.touches[1],o=i.clientX,a=i.clientY;return[(t+o)/2,(r+a)/2,Math.sqrt(Math.pow(o-t,2)+Math.pow(a-r,2))]}return[t,r,0]}var b=function(e,n,t,r){var i,o=t*n,a=(o-r)/2,c=e;return o<=r?(i=1,c=0):e>0&&a-e<=0?(i=2,c=a):e<0&&a+e<=0&&(i=3,c=-a),[i,c]};function C(e,n,t,r,i,o,a,c,u,s){void 0===a&&(a=innerWidth/2),void 0===c&&(c=innerHeight/2),void 0===u&&(u=0),void 0===s&&(s=0);var l=b(e,o,t,innerWidth)[0],d=b(n,o,r,innerHeight),f=innerWidth/2,v=innerHeight/2;return{x:a-o/i*(a-(f+e))-f+(r/t>=3&&t*o===innerWidth?0:l?u/2:u),y:c-o/i*(c-(v+n))-v+(d[0]?s/2:s),lastCX:a,lastCY:c}}function j(e,n,t){var r=e%180!=0;return r?[t,n,r]:[n,t,r]}function P(e,n,t){var r=j(t,innerWidth,innerHeight),i=r[0],o=r[1],a=0,c=i,u=o,s=e/n*o,l=n/e*i;return e<i&&n<o?(c=e,u=n):e<i&&n>=o?c=s:e>=i&&n<o||e/n>i/o?u=l:n/e>=3&&!r[2]?a=((u=l)-o)/2:c=s,c>448&&(c=448,u=n/e*448),{width:c,height:u,x:0,y:a,pause:!0}}function k(e,t){var r=t.leading,i=void 0!==r&&r,o=t.maxWait,a=t.wait,c=void 0===a?o||0:a,u=n.useRef(e);u.current=e;var s=n.useRef(0),l=n.useRef(null),d=function(){return l.current&&clearTimeout(l.current)},f=n.useCallback(function(){var e=[].slice.call(arguments),n=Date.now();function t(){s.current=n,d(),u.current.apply(null,e)}var r=s.current,a=n-r;if(0===r&&(i&&t(),s.current=n),void 0!==o){if(a>o)return void t()}else a<c&&(s.current=n);d(),l.current=setTimeout(function(){t(),s.current=0},c)},[c,o,i]);return f.cancel=d,f}var _=function(e,n,t){return R(e,n,t,100,function(e){return e},function(){return R(n,e,t)})},N=function(e){return 1-Math.pow(1-e,4)};function R(e,n,t,r,i,o){void 0===r&&(r=400),void 0===i&&(i=N);var a=n-e;if(0!==a){var c=Date.now(),u=0,s=function(){var n=Math.min(1,(Date.now()-c)/r);t(e+i(n)*a)&&n<1?l():(cancelAnimationFrame(u),n>=1&&o&&o())};l()}function l(){u=requestAnimationFrame(s)}}var M={T:0,L:0,W:0,H:0,FIT:void 0},S=function(){var e=n.useRef(!1);return n.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),e},Y=["className"];function X(n){var t=n.className,o=void 0===t?"":t,a=i(n,Y);return e.jsx("div",r({className:"PhotoView__Spinner "+o},a,{children:e.jsxs("svg",{viewBox:"0 0 32 32",width:"36",height:"36",fill:"white",children:[e.jsx("path",{opacity:".25",d:"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"}),e.jsx("path",{d:"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z"})]})}))}var E=["src","loaded","broken","className","onPhotoLoad","loadingElement","brokenElement"];function W(n){var t=n.src,o=n.loaded,a=n.broken,c=n.className,u=n.onPhotoLoad,s=n.loadingElement,l=n.brokenElement,d=i(n,E),f=S();return t&&!a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"PhotoView__Photo__attr",children:e.jsx("img",r({className:"PhotoView__Photo"+(c?" "+c:""),src:t,onLoad:function(e){var n=e.target;f.current&&u({loaded:!0,naturalWidth:n.naturalWidth,naturalHeight:n.naturalHeight})},onError:function(){f.current&&u({broken:!0})},draggable:!1,alt:"document"},d))}),!o&&(s?e.jsx("span",{className:"PhotoView__icon",children:s}):e.jsx(X,{className:"PhotoView__icon"}))]}):l?e.jsx("span",{className:"PhotoView__icon",children:"function"==typeof l?l({src:t}):l}):null}var T={naturalWidth:void 0,naturalHeight:void 0,width:void 0,height:void 0,loaded:void 0,broken:!1,x:0,y:0,touched:!1,maskTouched:!1,rotate:0,scale:1,CX:0,CY:0,lastX:0,lastY:0,lastCX:0,lastCY:0,lastScale:1,touchTime:0,touchLength:0,pause:!0,stopRaf:!0,reach:void 0};function V(t){var i=t.item,c=i.src,u=i.render,l=i.width,h=void 0===l?0:l,m=i.height,g=void 0===m?0:m,p=i.originRef,x=t.visible,w=t.speed,N=t.easing,Y=t.wrapClassName,X=t.className,E=t.style,V=t.loadingElement,A=t.brokenElement,L=t.onPhotoTap,I=t.onMaskTap,H=t.onReachMove,F=t.onReachUp,D=t.onPhotoResize,O=t.isActive,q=t.expose,B=a(T),z=B[0],K=B[1],G=n.useRef(0),U=S(),J=z.naturalWidth,Q=void 0===J?h:J,Z=z.naturalHeight,$=void 0===Z?g:Z,ee=z.width,ne=void 0===ee?h:ee,te=z.height,re=void 0===te?g:te,ie=z.loaded,oe=void 0===ie?!c:ie,ae=z.broken,ce=z.x,ue=z.y,se=z.touched,le=z.stopRaf,de=z.maskTouched,fe=z.rotate,ve=z.scale,he=z.CX,me=z.CY,ge=z.lastX,pe=z.lastY,xe=z.lastCX,we=z.lastCY,ye=z.lastScale,be=z.touchTime,Ce=z.touchLength,je=z.pause,Pe=z.reach,ke=o({onScale:function(e){return _e(d(e))},onRotate:function(e){fe!==e&&(q({rotate:e}),K(r({rotate:e},P(Q,$,e))))}});function _e(e,n,t){ve!==e&&(q({scale:e}),K(r({scale:e},C(ce,ue,ne,re,ve,e,n,t),e<=1&&{x:0,y:0})))}var Ne=k(function(e,n,t){if(void 0===t&&(t=0),(se||de)&&O){var i=j(fe,ne,re),o=i[0],a=i[1];if(0===t&&0===G.current){var c=Math.abs(e-he)<=20,u=Math.abs(n-me)<=20;if(c&&u)return void K({lastCX:e,lastCY:n});G.current=c?n>me?3:2:1}var s,l=e-xe,f=n-we;if(0===t){var v=b(l+ge,ve,o,innerWidth)[0],h=b(f+pe,ve,a,innerHeight);s=function(e,n,t,r){return n&&1===e||"x"===r?"x":t&&e>1||"y"===r?"y":void 0}(G.current,v,h[0],Pe),void 0!==s&&H(s,e,n,ve)}if("x"===s||de)return void K({reach:"x"});var m=d(ve+(t-Ce)/100/2*ve,Q/ne,.2);q({scale:m}),K(r({touchLength:t,reach:s,scale:m},C(ce,ue,ne,re,ve,m,e,n,l,f)))}},{maxWait:8});function Re(e){return!le&&!se&&(U.current&&K(r({},e,{pause:x})),U.current)}var Me,Se,Ye,Xe,Ee,We,Te,Ve,Ae=(Ee=function(e){return Re({x:e})},We=function(e){return Re({y:e})},Te=function(e){return U.current&&(q({scale:e}),K({scale:e})),!se&&U.current},Ve=o({X:function(e){return Ee(e)},Y:function(e){return We(e)},S:function(e){return Te(e)}}),function(e,n,t,r,i,o,a,c,u,s,l){var d=j(s,i,o),f=d[0],v=d[1],h=b(e,c,f,innerWidth),m=h[0],g=h[1],p=b(n,c,v,innerHeight),x=p[0],w=p[1],y=Date.now()-l;if(y>=200||c!==a||Math.abs(u-a)>1){var P=C(e,n,i,o,a,c),k=P.x,N=P.y,M=m?g:k!==e?k:null,S=x?w:N!==n?N:null;return null!==M&&R(e,M,Ve.X),null!==S&&R(n,S,Ve.Y),void(c!==a&&R(a,c,Ve.S))}var Y=(e-t)/y,X=(n-r)/y,E=Math.sqrt(Math.pow(Y,2)+Math.pow(X,2)),W=!1,T=!1;!function(e,n){var t,r=e,i=0,o=0,a=function(o){t||(t=o);var a=o-t,s=Math.sign(e),l=-.001*s,d=Math.sign(-r)*Math.pow(r,2)*2e-4,f=r*a+(l+d)*Math.pow(a,2)/2;i+=f,t=o,s*(r+=(l+d)*a)<=0?u():n(i)?c():u()};function c(){o=requestAnimationFrame(a)}function u(){cancelAnimationFrame(o)}c()}(E,function(t){var r=e+t*(Y/E),i=n+t*(X/E),o=b(r,a,f,innerWidth),c=o[0],u=o[1],s=b(i,a,v,innerHeight),l=s[0],d=s[1];if(c&&!W&&(W=!0,m?R(r,u,Ve.X):_(u,r+(r-u),Ve.X)),l&&!T&&(T=!0,x?R(i,d,Ve.Y):_(d,i+(i-d),Ve.Y)),W&&T)return!1;var h=W||Ve.X(u),g=T||Ve.Y(d);return h&&g})}),Le=(Me=L,Se=function(e,n){Pe||_e(1!==ve?1:Math.max(2,Q/ne),e,n)},Ye=n.useRef(0),Xe=k(function(){Ye.current=0,Me.apply(void 0,[].slice.call(arguments))},{wait:300}),function(){var e=[].slice.call(arguments);Ye.current+=1,Xe.apply(void 0,e),Ye.current>=2&&(Xe.cancel(),Ye.current=0,Se.apply(void 0,e))});function Ie(e,n){if(G.current=0,(se||de)&&O){K({touched:!1,maskTouched:!1,pause:!1,stopRaf:!1,reach:void 0});var t=d(ve,Q/ne);if(Ae(ce,ue,ge,pe,ne,re,ve,t,ye,fe,be),F(e,n),he===e&&me===n){if(se)return void Le(e,n);de&&I(e,n)}}}function He(e,n,t){void 0===t&&(t=0),K({touched:!0,CX:e,CY:n,lastCX:e,lastCY:n,lastX:ce,lastY:ue,lastScale:ve,touchLength:t,touchTime:Date.now()})}function Fe(e){K({maskTouched:!0,CX:e.clientX,CY:e.clientY,lastX:ce,lastY:ue})}v(s?void 0:"mousemove",function(e){e.preventDefault(),Ne(e.clientX,e.clientY)}),v(s?void 0:"mouseup",function(e){Ie(e.clientX,e.clientY)}),v(s?"touchmove":void 0,function(e){e.preventDefault();var n=y(e);Ne.apply(void 0,n)},{passive:!1}),v(s?"touchend":void 0,function(e){var n=e.changedTouches[0];Ie(n.clientX,n.clientY)},{passive:!1}),v("resize",k(function(){oe&&!se&&(K(P(Q,$,fe)),D())},{maxWait:8})),f(function(){O&&q(r({scale:ve,rotate:fe},ke))},[O]);var De=function(e,t,r,i,c,u,s,l,d,v){var h=function(e,t,r,i,o){var c=n.useRef(!1),u=a({lead:!0,scale:r}),s=u[0],l=s.lead,d=s.scale,v=u[1],h=k(function(e){try{return o(!0),v({lead:!1,scale:e}),Promise.resolve()}catch(e){return Promise.reject(e)}},{wait:i});return f(function(){c.current?(o(!1),v({lead:!0}),h(r)):c.current=!0},[r]),l?[e*d,t*d,r/d]:[e*r,t*r,1]}(u,s,l,d,v),m=h[0],g=h[1],p=h[2],x=function(e,t,r,i,a){var c=n.useState(M),u=c[0],s=c[1],l=n.useState(0),d=l[0],f=l[1],v=n.useRef(null),h=o({OK:function(){return e&&f(4)}});function m(e){a(!1),f(e)}return n.useEffect(function(){if(v.current||(v.current=Date.now()),r){if(function(e,n){var t=e&&e.current;if(t&&1===t.nodeType){var r=t.getBoundingClientRect();n({T:r.top,L:r.left,W:r.width,H:r.height,FIT:"IMG"===t.tagName?getComputedStyle(t).objectFit:void 0})}}(t,s),e)return Date.now()-v.current<250?(f(1),requestAnimationFrame(function(){f(2),requestAnimationFrame(function(){return m(3)})}),void setTimeout(h.OK,i)):void f(4);m(5)}},[e,r]),[d,u]}(e,t,r,d,v),w=x[0],y=x[1],b=y.W,C=y.FIT,j=innerWidth/2,P=innerHeight/2,_=w<3||w>4;return[_?b?y.L:j:i+(j-u*l/2),_?b?y.T:P:c+(P-s*l/2),m,_&&C?m*(y.H/b):g,0===w?p:_?b/(u*l)||.01:p,_?C?1:0:1,w,C]}(x,p,oe,ce,ue,ne,re,ve,w,function(e){return K({pause:e})}),Oe=De[4],qe=De[6],Be="transform "+w+"ms "+N,ze={className:X,onMouseDown:s?void 0:function(e){e.stopPropagation(),0===e.button&&He(e.clientX,e.clientY,0)},onTouchStart:s?function(e){e.stopPropagation(),He.apply(void 0,y(e))}:void 0,onWheel:function(e){if(!Pe){var n=d(ve-e.deltaY/100/2,Q/ne);K({stopRaf:!0}),_e(n,e.clientX,e.clientY)}},style:{width:De[2]+"px",height:De[3]+"px",opacity:De[5],objectFit:4===qe?void 0:De[7],transform:fe?"rotate("+fe+"deg)":void 0,transition:qe>2?Be+", opacity "+w+"ms ease, height "+(qe<4?w/2:qe>4?w:0)+"ms "+N:void 0}};return e.jsx("div",{className:"PhotoView__PhotoWrap"+(Y?" "+Y:""),style:E,onMouseDown:!s&&O?Fe:void 0,onTouchStart:s&&O?function(e){return Fe(e.touches[0])}:void 0,children:e.jsx("div",{className:"PhotoView__PhotoBox",style:{transform:"matrix("+Oe+", 0, 0, "+Oe+", "+De[0]+", "+De[1]+")",transition:se||je?void 0:Be,willChange:O?"transform":void 0},children:c?e.jsx(W,r({src:c,loaded:oe,broken:ae},ze,{onPhotoLoad:function(e){K(r({},e,e.loaded&&P(e.naturalWidth||0,e.naturalHeight||0,fe)))},loadingElement:V,brokenElement:A})):u&&u({attrs:ze,scale:Oe,rotate:fe})})})}var A={x:0,touched:!1,pause:!1,lastCX:void 0,lastCY:void 0,bg:void 0,lastBg:void 0,overlay:!0,minimal:!0,scale:1,rotate:0};function L(t){var r=t.loop,i=void 0===r?3:r,c=t.speed,d=t.easing,h=t.photoClosable,y=t.maskClosable,b=void 0===y||y,C=t.maskOpacity,j=void 0===C?1:C,P=t.bannerVisible,k=void 0===P||P,_=t.overlayRender,N=t.toolbarRender,R=t.className,M=t.maskClassName,S=t.photoClassName,Y=t.photoWrapClassName,X=t.loadingElement,E=t.brokenElement,W=t.images,T=t.index,L=void 0===T?0:T,I=t.onIndexChange,H=t.visible,F=t.onClose,D=t.afterClose,O=t.portalContainer,q=a(A),B=q[0],z=q[1],K=n.useState(0),G=K[0],U=K[1];n.useState(null);var J=B.x,Q=B.touched,Z=B.pause,$=B.bg,ee=void 0===$?j:$,ne=B.lastBg,te=B.overlay,re=B.scale,ie=B.rotate,oe=B.onScale,ae=B.onRotate,ce=t.hasOwnProperty("index"),ue=ce?L:G,se=ce?I:U,le=n.useRef(ue),de=W.length,fe=W[ue],ve="boolean"==typeof i?i:de>i,he=function(e,t){var r=n.useReducer(function(e){return!e},!1)[1],i=n.useRef(0),o=function(t){var r=n.useRef(t);function o(e){r.current=e}return n.useMemo(function(){!function(n){e?(n(e),i.current=1):i.current=2}(o)},[t]),[r.current,o]}(e),a=o[1];return[o[0],i.current,function(){r(),2===i.current&&(a(!1),t&&t()),i.current=0}]}(H,D),me=he[0],ge=he[1],pe=he[2];f(function(){if(me)return z({pause:!0,x:ue*-(innerWidth+20)}),void(le.current=ue);z(A)},[me]);var xe=o({close:function(e){ae&&ae(0),z({overlay:!0,lastBg:ee}),F(e)},changeIndex:function(e,n){void 0===n&&(n=!1);var t=ve?le.current+(e-ue):e,r=de-1,i=l(t,0,r),o=ve?t:i,a=innerWidth+20;z({touched:!1,x:-a*le.current,lastCX:void 0,lastCY:void 0,bg:j,overlay:te}),z({touched:!1,lastCX:void 0,lastCY:void 0,x:-a*o,pause:n}),le.current=o,se&&se(ve?e<0?r:e>r?0:e:i)}}),we=xe.close,ye=xe.changeIndex;function be(e){return e?we():z({overlay:!te})}function Ce(){z({x:-(innerWidth+20)*ue,lastCX:void 0,lastCY:void 0,pause:!0}),le.current=ue}v("keydown",function(e){if(H)switch(e.key){case"ArrowLeft":ye(ue-1,!0);break;case"ArrowRight":ye(ue+1,!0);break;case"Escape":we()}});var je=function(e,t,r){return n.useMemo(function(){var n=e.length;return r?e.concat(e).concat(e).slice(n+t-1,n+t+2):e.slice(Math.max(t-1,0),Math.min(t+2,n+1))},[e,t,r])}(W,ue,ve);if(n.useEffect(function(){setTimeout(function(){var e;null==(e=document.querySelector(".Slider_scale"))||e.classList.remove("slider-transitions")},100)},[ue]),!me)return null;var Pe=te&&!ge,ke=H?ee:ne,_e=oe&&ae&&{images:W,index:ue,visible:H,onClose:we,onIndexChange:ye,overlayVisible:Pe,overlay:fe&&fe.overlay,scale:re,rotate:ie,onScale:oe,onRotate:ae},Ne=c?c(ge):400,Re=d?d(ge):u,Me=c?c(3):600,Se=d?d(3):u;return e.jsxs(m,{className:"PhotoView-Portal"+(Pe?"":" PhotoView-Slider__clean")+(H?"":" PhotoView-Slider__willClose")+(R?" "+R:""),role:"dialog",onClick:function(e){return e.stopPropagation()},container:O,children:[H&&e.jsx(w,{}),e.jsx("div",{className:"PhotoView-Slider__Backdrop"+(M?" "+M:"")+(1===ge?" PhotoView-Slider__fadeIn":2===ge?" PhotoView-Slider__fadeOut":""),style:{background:ke?"rgba(0, 0, 0, "+ke+")":void 0,transitionTimingFunction:Re,transitionDuration:(Q?0:Ne)+"ms",animationDuration:Ne+"ms"},onAnimationEnd:pe}),k&&e.jsxs("div",{className:"PhotoView-Slider__BannerWrap",children:[e.jsxs("div",{className:"PhotoView-Slider__Counter",children:[ue+1," / ",de]}),e.jsxs("div",{className:"PhotoView-Slider__BannerRight",children:[N&&_e&&N(_e),e.jsx(g,{className:"close",onClick:we})]})]}),e.jsx("div",{className:"Slider_scale",children:je.map(function(n,t){var r=ve||0!==ue?le.current-1+t:ue+t;return e.jsx(V,{item:n,speed:Ne,easing:Re,visible:H,onPhotoTap:function(){return be(h)},onMaskTap:function(){return be(b)},wrapClassName:Y,className:S,style:{left:(innerWidth+20)*r+"px",transform:"translate3d("+J+"px, 0px, 0)",transition:Q||Z?void 0:"transform "+Me+"ms "+Se},loadingElement:X,brokenElement:E,onPhotoResize:Ce,isActive:le.current===r,expose:z},ve?n.key+"/"+n.src+"/"+r:n.key)})}),!s&&k&&e.jsxs(e.Fragment,{children:[(ve||0!==ue)&&e.jsx("div",{className:"PhotoView-Slider__ArrowLeft",onClick:function(){var e;null==(e=document.querySelector(".Slider_scale"))||e.classList.add("slider-transitions"),ye(ue-1)},children:e.jsx(p,{})}),(ve||ue+1<de)&&e.jsx("div",{className:"PhotoView-Slider__ArrowRight",onClick:function(){var e;null==(e=document.querySelector(".Slider_scale"))||e.classList.add("slider-transitions"),ye(ue+1)},children:e.jsx(x,{})})]}),_&&_e&&e.jsx("div",{className:"PhotoView-Slider__Overlay",children:_(_e)})]})}var I=["children","onIndexChange","onVisibleChange"],H={images:[],visible:!1,index:0};exports.PhotoProvider=function(t){var u=t.children,s=t.onIndexChange,l=t.onVisibleChange,d=i(t,I),f=a(H),v=f[0],h=f[1],m=n.useRef(0),g=v.images,p=v.visible,x=v.index,w=o({nextId:function(){return m.current+=1},update:function(e){var n=g.findIndex(function(n){return n.key===e.key});if(n>-1){var t=g.slice();return t.splice(n,1,e),void h({images:t})}h(function(n){return{images:n.images.concat(e)}})},remove:function(e){h(function(n){var t=n.images.filter(function(n){return n.key!==e});return{images:t,index:Math.min(t.length-1,x)}})},show:function(e){var n=g.findIndex(function(n){return n.key===e});h({visible:!0,index:n}),l&&l(!0,n,v)}}),y=o({close:function(){h({visible:!1}),l&&l(!1,x,v)},changeIndex:function(e){h({index:e}),s&&s(e,v)}}),b=n.useMemo(function(){return r({},v,w)},[v,w]);return e.jsxs(c.Provider,{value:b,children:[u,e.jsx(L,r({images:g,visible:p,index:x,onIndexChange:y.changeIndex,onClose:y.close},d))]})},exports.PhotoSlider=L,exports.PhotoView=function(e){var t,i,a=e.src,u=e.render,s=e.overlay,l=e.width,d=e.height,f=e.triggers,v=void 0===f?["onClick"]:f,h=e.children,m=n.useContext(c),g=(t=function(){return m.nextId()},(i=n.useRef({sign:!1,fn:void 0}).current).sign||(i.sign=!0,i.fn=t()),i.fn),p=n.useRef(null);n.useImperativeHandle(null==h?void 0:h.ref,function(){return p.current}),n.useEffect(function(){return function(){m.remove(g)}},[]);var x=o({render:function(e){return u&&u(e)},show:function(e,n){m.show(g),function(e,n){if(h){var t=h.props[e];t&&t(n)}}(e,n)}}),w=n.useMemo(function(){var e={};return v.forEach(function(n){e[n]=x.show.bind(null,n)}),e},[]);return n.useEffect(function(){m.update({key:g,src:a,originRef:p,render:x.render,overlay:s,width:l,height:d})},[a]),h?n.Children.only(n.cloneElement(h,r({},w,{ref:p}))):null};
//# sourceMappingURL=react-photo-view.js.map
