{"code":"import useAnimationOrigin from './useAnimationOrigin';\r\nimport useTargetScale from './useTargetScale';\r\nexport default function useAnimationPosition(visible, originRef, loaded, x, y, width, height, scale, speed, updateEasing) {\r\n    // 延迟更新 width/height\r\n    const [autoWidth, autoHeight, autoScale] = useTargetScale(width, height, scale, speed, updateEasing);\r\n    // 动画源处理\r\n    const [easingMode, originRect] = useAnimationOrigin(visible, originRef, loaded, speed, updateEasing);\r\n    // 计算动画位置\r\n    const { T, L, W, H, FIT } = originRect;\r\n    // 偏移量，x: 0, y: 0 居中为初始\r\n    const centerWidth = innerWidth / 2;\r\n    const centerHeight = innerHeight / 2;\r\n    const offsetX = centerWidth - (width * scale) / 2;\r\n    const offsetY = centerHeight - (height * scale) / 2;\r\n    // 缩略图状态\r\n    const miniMode = easingMode < 3 || easingMode > 4;\r\n    // 有缩略图时，则为缩略图的位置，否则居中\r\n    const translateX = miniMode ? (W ? L : centerWidth) : x + offsetX;\r\n    const translateY = miniMode ? (W ? T : centerHeight) : y + offsetY;\r\n    // 最小值缩放\r\n    const minScale = W / (width * scale) || 0.01;\r\n    // 适应 objectFit 保持缩略图宽高比\r\n    const currentHeight = miniMode && FIT ? autoWidth * (H / W) : autoHeight;\r\n    // 初始加载情况无缩放\r\n    const currentScale = easingMode === 0 ? autoScale : miniMode ? minScale : autoScale;\r\n    const opacity = miniMode ? (FIT ? 1 : 0) : 1;\r\n    return [translateX, translateY, autoWidth, currentHeight, currentScale, opacity, easingMode, FIT];\r\n}\r\n//# sourceMappingURL=useAnimationPosition.js.map","references":["/home/georgii/Документы/nvsert/nvsert/src/assets/lib/react-photo-view/node_modules/@types/react/ts5.0/index.d.ts","/home/georgii/Документы/nvsert/nvsert/src/assets/lib/react-photo-view/src/hooks/useAnimationOrigin.tsx","/home/georgii/Документы/nvsert/nvsert/src/assets/lib/react-photo-view/src/hooks/useTargetScale.ts"],"map":"{\"version\":3,\"file\":\"useAnimationPosition.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/hooks/useAnimationPosition.ts\"],\"names\":[],\"mappings\":\"AACA,OAAO,kBAAkB,MAAM,sBAAsB,CAAC;AACtD,OAAO,cAAc,MAAM,kBAAkB,CAAC;AAE9C,MAAM,CAAC,OAAO,UAAU,oBAAoB,CAC1C,OAA4B,EAC5B,SAA2D,EAC3D,MAAe,EACf,CAAS,EACT,CAAS,EACT,KAAa,EACb,MAAc,EACd,KAAa,EACb,KAAa,EACb,YAAsC;IAEtC,oBAAoB;IACpB,MAAM,CAAC,SAAS,EAAE,UAAU,EAAE,SAAS,CAAC,GAAG,cAAc,CAAC,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,YAAY,CAAC,CAAC;IACrG,QAAQ;IACR,MAAM,CAAC,UAAU,EAAE,UAAU,CAAC,GAAG,kBAAkB,CAAC,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,KAAK,EAAE,YAAY,CAAC,CAAC;IAErG,SAAS;IACT,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,UAAU,CAAC;IACvC,uBAAuB;IACvB,MAAM,WAAW,GAAG,UAAU,GAAG,CAAC,CAAC;IACnC,MAAM,YAAY,GAAG,WAAW,GAAG,CAAC,CAAC;IACrC,MAAM,OAAO,GAAG,WAAW,GAAG,CAAC,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC;IAClD,MAAM,OAAO,GAAG,YAAY,GAAG,CAAC,MAAM,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC;IACpD,QAAQ;IACR,MAAM,QAAQ,GAAG,UAAU,GAAG,CAAC,IAAI,UAAU,GAAG,CAAC,CAAC;IAClD,sBAAsB;IACtB,MAAM,UAAU,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,OAAO,CAAC;IAClE,MAAM,UAAU,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,OAAO,CAAC;IAEnE,QAAQ;IACR,MAAM,QAAQ,GAAG,CAAC,GAAG,CAAC,KAAK,GAAG,KAAK,CAAC,IAAI,IAAI,CAAC;IAE7C,wBAAwB;IACxB,MAAM,aAAa,GAAG,QAAQ,IAAI,GAAG,CAAC,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC;IACzE,YAAY;IACZ,MAAM,YAAY,GAAG,UAAU,KAAK,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC;IACpF,MAAM,OAAO,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAE7C,OAAO,CAAC,UAAU,EAAE,UAAU,EAAE,SAAS,EAAE,aAAa,EAAE,YAAY,EAAE,OAAO,EAAE,UAAU,EAAE,GAAG,CAAU,CAAC;AAC7G,CAAC\"}","dts":{"name":"/home/georgii/Документы/nvsert/nvsert/src/assets/lib/react-photo-view/dist/hooks/useAnimationPosition.d.ts","writeByteOrderMark":false,"text":"import type { MutableRefObject } from 'react';\r\nexport default function useAnimationPosition(visible: boolean | undefined, originRef: MutableRefObject<HTMLElement | null> | undefined, loaded: boolean, x: number, y: number, width: number, height: number, scale: number, speed: number, updateEasing: (pause: boolean) => void): readonly [number, number, number, number, number, 0 | 1, import(\"../types\").EasingMode, \"contain\" | \"cover\" | \"fill\"];\r\n"}}
