{"code":"import { longModeRatio } from '../variables';\r\nimport getRotateSize from './getRotateSize';\r\n/**\r\n * 获取图片合适的大小\r\n */\r\nexport default function getSuitableImageSize(naturalWidth, naturalHeight, rotate) {\r\n    const [currentWidth, currentHeight, isVertical] = getRotateSize(rotate, innerWidth, innerHeight);\r\n    let y = 0;\r\n    let width = currentWidth;\r\n    let height = currentHeight;\r\n    // 自适应宽高\r\n    const autoWidth = (naturalWidth / naturalHeight) * currentHeight;\r\n    const autoHeight = (naturalHeight / naturalWidth) * currentWidth;\r\n    const maxWidth = 448;\r\n    if (naturalWidth < currentWidth && naturalHeight < currentHeight) {\r\n        width = naturalWidth;\r\n        height = naturalHeight;\r\n    }\r\n    else if (naturalWidth < currentWidth && naturalHeight >= currentHeight) {\r\n        width = autoWidth;\r\n    }\r\n    else if (naturalWidth >= currentWidth && naturalHeight < currentHeight) {\r\n        height = autoHeight;\r\n    }\r\n    else if (naturalWidth / naturalHeight > currentWidth / currentHeight) {\r\n        height = autoHeight;\r\n    }\r\n    // 长图模式\r\n    else if (naturalHeight / naturalWidth >= longModeRatio && !isVertical) {\r\n        height = autoHeight;\r\n        y = (height - currentHeight) / 2;\r\n    }\r\n    else {\r\n        width = autoWidth;\r\n    }\r\n    if (width > maxWidth) {\r\n        width = maxWidth;\r\n        height = (naturalHeight / naturalWidth) * maxWidth; // Сохраняем пропорции\r\n    }\r\n    else {\r\n        width -= 30;\r\n        height = (naturalHeight / naturalWidth) * width;\r\n    }\r\n    return {\r\n        width,\r\n        height,\r\n        x: 0,\r\n        y,\r\n        pause: true,\r\n    };\r\n}\r\n//# sourceMappingURL=getSuitableImageSize.js.map","references":["/Users/georgiiborisov/Documents/Nvsert--nextjs/src/assets/lib/react-photo-view/src/variables.ts","/Users/georgiiborisov/Documents/Nvsert--nextjs/src/assets/lib/react-photo-view/src/utils/getRotateSize.ts"],"map":"{\"version\":3,\"file\":\"getSuitableImageSize.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/utils/getSuitableImageSize.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,aAAa,EAAE,MAAM,cAAc,CAAC;AAC7C,OAAO,aAAa,MAAM,iBAAiB,CAAC;AAE5C;;GAEG;AACH,MAAM,CAAC,OAAO,UAAU,oBAAoB,CAAC,YAAoB,EAAE,aAAqB,EAAE,MAAc;IACtG,MAAM,CAAC,YAAY,EAAE,aAAa,EAAE,UAAU,CAAC,GAAG,aAAa,CAAC,MAAM,EAAE,UAAU,EAAE,WAAW,CAAC,CAAC;IAEjG,IAAI,CAAC,GAAG,CAAC,CAAC;IACV,IAAI,KAAK,GAAG,YAAY,CAAC;IACzB,IAAI,MAAM,GAAG,aAAa,CAAC;IAE3B,QAAQ;IACR,MAAM,SAAS,GAAG,CAAC,YAAY,GAAG,aAAa,CAAC,GAAG,aAAa,CAAC;IACjE,MAAM,UAAU,GAAG,CAAC,aAAa,GAAG,YAAY,CAAC,GAAG,YAAY,CAAC;IAEjE,MAAM,QAAQ,GAAG,GAAG,CAAC;IAErB,IAAI,YAAY,GAAG,YAAY,IAAI,aAAa,GAAG,aAAa,EAAE;QAChE,KAAK,GAAG,YAAY,CAAC;QACrB,MAAM,GAAG,aAAa,CAAC;KACxB;SAAM,IAAI,YAAY,GAAG,YAAY,IAAI,aAAa,IAAI,aAAa,EAAE;QACxE,KAAK,GAAG,SAAS,CAAC;KACnB;SAAM,IAAI,YAAY,IAAI,YAAY,IAAI,aAAa,GAAG,aAAa,EAAE;QACxE,MAAM,GAAG,UAAU,CAAC;KACrB;SAAM,IAAI,YAAY,GAAG,aAAa,GAAG,YAAY,GAAG,aAAa,EAAE;QACtE,MAAM,GAAG,UAAU,CAAC;KACrB;IACD,OAAO;SACF,IAAI,aAAa,GAAG,YAAY,IAAI,aAAa,IAAI,CAAC,UAAU,EAAE;QACrE,MAAM,GAAG,UAAU,CAAC;QACpB,CAAC,GAAG,CAAC,MAAM,GAAG,aAAa,CAAC,GAAG,CAAC,CAAC;KAClC;SAAM;QACL,KAAK,GAAG,SAAS,CAAC;KACnB;IAEA,IAAI,KAAK,GAAG,QAAQ,EAAE;QACrB,KAAK,GAAG,QAAQ,CAAC;QACjB,MAAM,GAAG,CAAC,aAAa,GAAG,YAAY,CAAC,GAAG,QAAQ,CAAC,CAAC,sBAAsB;KAC1E;SAAM;QACN,KAAK,IAAI,EAAE,CAAA;QACX,MAAM,GAAG,CAAC,aAAa,GAAG,YAAY,CAAC,GAAG,KAAK,CAAA;KAC/C;IAEF,OAAO;QACL,KAAK;QACL,MAAM;QACN,CAAC,EAAE,CAAC;QACJ,CAAC;QACD,KAAK,EAAE,IAAI;KACZ,CAAC;AACJ,CAAC\"}","dts":{"name":"/Users/georgiiborisov/Documents/Nvsert--nextjs/src/assets/lib/react-photo-view/dist/utils/getSuitableImageSize.d.ts","writeByteOrderMark":false,"text":"/**\r\n * 获取图片合适的大小\r\n */\r\nexport default function getSuitableImageSize(naturalWidth: number, naturalHeight: number, rotate: number): {\r\n    width: number;\r\n    height: number;\r\n    x: number;\r\n    y: number;\r\n    pause: boolean;\r\n};\r\n"}}
