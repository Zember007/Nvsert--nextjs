{"code":"import { longModeRatio } from '../variables';\r\nimport { computePositionEdge } from './edgeHandle';\r\n/**\r\n * 获取移动或缩放之后的中心点\r\n */\r\nexport default function getPositionOnMoveOrScale(x, y, width, height, scale, toScale, clientX = innerWidth / 2, clientY = innerHeight / 2, offsetX = 0, offsetY = 0) {\r\n    // 是否接触边缘\r\n    const [closedEdgeX] = computePositionEdge(x, toScale, width, innerWidth);\r\n    const [closedEdgeY] = computePositionEdge(y, toScale, height, innerHeight);\r\n    const centerClientX = innerWidth / 2;\r\n    const centerClientY = innerHeight / 2;\r\n    // 坐标偏移\r\n    const lastPositionX = centerClientX + x;\r\n    const lastPositionY = centerClientY + y;\r\n    // 偏移位置\r\n    const originX = clientX - (clientX - lastPositionX) * (toScale / scale) - centerClientX;\r\n    const originY = clientY - (clientY - lastPositionY) * (toScale / scale) - centerClientY;\r\n    // 长图模式无左右反馈\r\n    const longModeEdge = height / width >= longModeRatio && width * toScale === innerWidth;\r\n    // 超出边缘距离减半\r\n    return {\r\n        x: originX + (longModeEdge ? 0 : closedEdgeX ? offsetX / 2 : offsetX),\r\n        y: originY + (closedEdgeY ? offsetY / 2 : offsetY),\r\n        lastCX: clientX,\r\n        lastCY: clientY,\r\n    };\r\n}\r\n//# sourceMappingURL=getPositionOnMoveOrScale.js.map","references":["/Users/georgiiborisov/Documents/Nvsert--nextjs/src/assets/lib/react-photo-view/src/variables.ts","/Users/georgiiborisov/Documents/Nvsert--nextjs/src/assets/lib/react-photo-view/src/utils/edgeHandle.ts"],"map":"{\"version\":3,\"file\":\"getPositionOnMoveOrScale.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/utils/getPositionOnMoveOrScale.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,aAAa,EAAE,MAAM,cAAc,CAAC;AAC7C,OAAO,EAAE,mBAAmB,EAAE,MAAM,cAAc,CAAC;AAEnD;;GAEG;AACH,MAAM,CAAC,OAAO,UAAU,wBAAwB,CAC9C,CAAS,EACT,CAAS,EACT,KAAa,EACb,MAAc,EACd,KAAa,EACb,OAAe,EACf,UAAkB,UAAU,GAAG,CAAC,EAChC,UAAkB,WAAW,GAAG,CAAC,EACjC,UAAkB,CAAC,EACnB,UAAkB,CAAC;IAEnB,SAAS;IACT,MAAM,CAAC,WAAW,CAAC,GAAG,mBAAmB,CAAC,CAAC,EAAE,OAAO,EAAE,KAAK,EAAE,UAAU,CAAC,CAAC;IACzE,MAAM,CAAC,WAAW,CAAC,GAAG,mBAAmB,CAAC,CAAC,EAAE,OAAO,EAAE,MAAM,EAAE,WAAW,CAAC,CAAC;IAE3E,MAAM,aAAa,GAAG,UAAU,GAAG,CAAC,CAAC;IACrC,MAAM,aAAa,GAAG,WAAW,GAAG,CAAC,CAAC;IAEtC,OAAO;IACP,MAAM,aAAa,GAAG,aAAa,GAAG,CAAC,CAAC;IACxC,MAAM,aAAa,GAAG,aAAa,GAAG,CAAC,CAAC;IAExC,OAAO;IACP,MAAM,OAAO,GAAG,OAAO,GAAG,CAAC,OAAO,GAAG,aAAa,CAAC,GAAG,CAAC,OAAO,GAAG,KAAK,CAAC,GAAG,aAAa,CAAC;IACxF,MAAM,OAAO,GAAG,OAAO,GAAG,CAAC,OAAO,GAAG,aAAa,CAAC,GAAG,CAAC,OAAO,GAAG,KAAK,CAAC,GAAG,aAAa,CAAC;IACxF,YAAY;IACZ,MAAM,YAAY,GAAG,MAAM,GAAG,KAAK,IAAI,aAAa,IAAI,KAAK,GAAG,OAAO,KAAK,UAAU,CAAC;IACvF,WAAW;IACX,OAAO;QACL,CAAC,EAAE,OAAO,GAAG,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;QACrE,CAAC,EAAE,OAAO,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;QAClD,MAAM,EAAE,OAAO;QACf,MAAM,EAAE,OAAO;KAChB,CAAC;AACJ,CAAC\"}","dts":{"name":"/Users/georgiiborisov/Documents/Nvsert--nextjs/src/assets/lib/react-photo-view/dist/utils/getPositionOnMoveOrScale.d.ts","writeByteOrderMark":false,"text":"/**\r\n * 获取移动或缩放之后的中心点\r\n */\r\nexport default function getPositionOnMoveOrScale(x: number, y: number, width: number, height: number, scale: number, toScale: number, clientX?: number, clientY?: number, offsetX?: number, offsetY?: number): {\r\n    x: number;\r\n    y: number;\r\n    lastCX: number;\r\n    lastCY: number;\r\n};\r\n"}}
