{"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\r\nimport { useRef } from 'react';\r\nimport isTouchDevice from './utils/isTouchDevice';\r\nimport getMultipleTouchPosition from './utils/getMultipleTouchPosition';\r\nimport getPositionOnMoveOrScale from './utils/getPositionOnMoveOrScale';\r\nimport { getReachType, computePositionEdge } from './utils/edgeHandle';\r\nimport getRotateSize from './utils/getRotateSize';\r\nimport { limitScale } from './utils/limitTarget';\r\nimport getSuitableImageSize from './utils/getSuitableImageSize';\r\nimport useIsomorphicLayoutEffect from './hooks/useIsomorphicLayoutEffect';\r\nimport { minStartTouchOffset, scaleBuffer } from './variables';\r\nimport useSetState from './hooks/useSetState';\r\nimport useMethods from './hooks/useMethods';\r\nimport useDebounceCallback from './hooks/useDebounceCallback';\r\nimport useEventListener from './hooks/useEventListener';\r\nimport useContinuousTap from './hooks/useContinuousTap';\r\nimport useScrollPosition from './hooks/useScrollPosition';\r\nimport useAnimationPosition from './hooks/useAnimationPosition';\r\nimport useMountedRef from './hooks/useMountedRef';\r\nimport Photo from './Photo';\r\nimport './PhotoBox.less';\r\nconst initialState = {\r\n    // 真实宽度\r\n    naturalWidth: undefined,\r\n    // 真实高度\r\n    naturalHeight: undefined,\r\n    // 宽度\r\n    width: undefined,\r\n    // 高度\r\n    height: undefined,\r\n    // 加载成功状态\r\n    loaded: undefined,\r\n    // 破碎状态\r\n    broken: false,\r\n    // 图片 X 偏移量\r\n    x: 0,\r\n    // 图片 y 偏移量\r\n    y: 0,\r\n    // 图片处于触摸的状态\r\n    touched: false,\r\n    // 背景处于触摸状态\r\n    maskTouched: false,\r\n    // 旋转状态\r\n    rotate: 0,\r\n    // 放大缩小\r\n    scale: 1,\r\n    // 触摸开始时 x 原始坐标\r\n    CX: 0,\r\n    // 触摸开始时 y 原始坐标\r\n    CY: 0,\r\n    // 触摸开始时图片 x 偏移量\r\n    lastX: 0,\r\n    // 触摸开始时图片 y 偏移量\r\n    lastY: 0,\r\n    // 上一个触摸状态 x 原始坐标\r\n    lastCX: 0,\r\n    // 上一个触摸状态 y 原始坐标\r\n    lastCY: 0,\r\n    // 上一个触摸状态的 scale\r\n    lastScale: 1,\r\n    // 触摸开始时时间\r\n    touchTime: 0,\r\n    // 多指触控间距\r\n    touchLength: 0,\r\n    // 是否暂停 transition\r\n    pause: true,\r\n    // 停止 Raf\r\n    stopRaf: true,\r\n    // 当前边缘触发状态\r\n    reach: undefined,\r\n};\r\nexport default function PhotoBox({ item: { src, render, width: customWidth = 0, height: customHeight = 0, originRef }, visible, speed, easing, wrapClassName, className, style, loadingElement, brokenElement, onPhotoTap, onMaskTap, onReachMove, onReachUp, onPhotoResize, isActive, expose, }) {\r\n    const [state, updateState] = useSetState(initialState);\r\n    const initialTouchRef = useRef(0);\r\n    const mounted = useMountedRef();\r\n    const { naturalWidth = customWidth, naturalHeight = customHeight, width = customWidth, height = customHeight, loaded = !src, broken, x, y, touched, stopRaf, maskTouched, rotate, scale, CX, CY, lastX, lastY, lastCX, lastCY, lastScale, touchTime, touchLength, pause, reach, } = state;\r\n    const fn = useMethods({\r\n        onScale: (current) => onScale(limitScale(current)),\r\n        onRotate(current) {\r\n            if (rotate !== current) {\r\n                expose({ rotate: current });\r\n                updateState({ rotate: current, ...getSuitableImageSize(naturalWidth, naturalHeight, current) });\r\n            }\r\n        },\r\n    });\r\n    // 默认为屏幕中心缩放\r\n    function onScale(current, clientX, clientY) {\r\n        if (scale !== current) {\r\n            expose({ scale: current });\r\n            updateState({\r\n                scale: current,\r\n                ...getPositionOnMoveOrScale(x, y, width, height, scale, current, clientX, clientY),\r\n                ...(current <= 1 && { x: 0, y: 0 }),\r\n            });\r\n        }\r\n    }\r\n    const handleMove = useDebounceCallback((nextClientX, nextClientY, currentTouchLength = 0) => {\r\n        if ((touched || maskTouched) && isActive) {\r\n            // 通过旋转调换宽高\r\n            const [currentWidth, currentHeight] = getRotateSize(rotate, width, height);\r\n            // 单指最小缩放下，以初始移动距离来判断意图\r\n            if (currentTouchLength === 0 && initialTouchRef.current === 0) {\r\n                const isStillX = Math.abs(nextClientX - CX) <= minStartTouchOffset;\r\n                const isStillY = Math.abs(nextClientY - CY) <= minStartTouchOffset;\r\n                // 初始移动距离不足\r\n                if (isStillX && isStillY) {\r\n                    // 方向记录上次移动距离，以便平滑过渡\r\n                    updateState({ lastCX: nextClientX, lastCY: nextClientY });\r\n                    return;\r\n                }\r\n                // 设置响应状态\r\n                initialTouchRef.current = !isStillX ? 1 : nextClientY > CY ? 3 : 2;\r\n            }\r\n            const offsetX = nextClientX - lastCX;\r\n            const offsetY = nextClientY - lastCY;\r\n            // 边缘触发状态\r\n            let currentReach;\r\n            if (currentTouchLength === 0) {\r\n                // 边缘超出状态\r\n                const [horizontalCloseEdge] = computePositionEdge(offsetX + lastX, scale, currentWidth, innerWidth);\r\n                const [verticalCloseEdge] = computePositionEdge(offsetY + lastY, scale, currentHeight, innerHeight);\r\n                // 边缘触发检测\r\n                currentReach = getReachType(initialTouchRef.current, horizontalCloseEdge, verticalCloseEdge, reach);\r\n                // 接触边缘\r\n                if (currentReach !== undefined) {\r\n                    onReachMove(currentReach, nextClientX, nextClientY, scale);\r\n                }\r\n            }\r\n            // 横向边缘触发、背景触发禁用当前滑动\r\n            if (currentReach === 'x' || maskTouched) {\r\n                updateState({ reach: 'x' });\r\n                return;\r\n            }\r\n            // 目标倍数\r\n            const toScale = limitScale(scale + ((currentTouchLength - touchLength) / 100 / 2) * scale, naturalWidth / width, scaleBuffer);\r\n            // 导出变量\r\n            expose({ scale: toScale });\r\n            updateState({\r\n                touchLength: currentTouchLength,\r\n                reach: currentReach,\r\n                scale: toScale,\r\n                ...getPositionOnMoveOrScale(x, y, width, height, scale, toScale, nextClientX, nextClientY, offsetX, offsetY),\r\n            });\r\n        }\r\n    }, {\r\n        maxWait: 8,\r\n    });\r\n    function updateRaf(position) {\r\n        if (stopRaf || touched) {\r\n            return false;\r\n        }\r\n        if (mounted.current) {\r\n            // 下拉关闭时可以有动画\r\n            updateState({ ...position, pause: visible });\r\n        }\r\n        return mounted.current;\r\n    }\r\n    const slideToPosition = useScrollPosition((nextX) => updateRaf({ x: nextX }), (nextY) => updateRaf({ y: nextY }), (nextScale) => {\r\n        if (mounted.current) {\r\n            expose({ scale: nextScale });\r\n            updateState({ scale: nextScale });\r\n        }\r\n        return !touched && mounted.current;\r\n    });\r\n    const handlePhotoTap = useContinuousTap(onPhotoTap, (currentClientX, currentClientY) => {\r\n        if (!reach) {\r\n            // 若图片足够大，则放大适应的倍数\r\n            const endScale = scale !== 1 ? 1 : Math.max(2, naturalWidth / width);\r\n            onScale(endScale, currentClientX, currentClientY);\r\n        }\r\n    });\r\n    function handleUp(nextClientX, nextClientY) {\r\n        // 重置响应状态\r\n        initialTouchRef.current = 0;\r\n        if ((touched || maskTouched) && isActive) {\r\n            updateState({\r\n                touched: false,\r\n                maskTouched: false,\r\n                pause: false,\r\n                stopRaf: false,\r\n                reach: undefined,\r\n            });\r\n            const safeScale = limitScale(scale, naturalWidth / width);\r\n            // Go\r\n            slideToPosition(x, y, lastX, lastY, width, height, scale, safeScale, lastScale, rotate, touchTime);\r\n            onReachUp(nextClientX, nextClientY);\r\n            // 触发 Tap 事件\r\n            if (CX === nextClientX && CY === nextClientY) {\r\n                if (touched) {\r\n                    handlePhotoTap(nextClientX, nextClientY);\r\n                    return;\r\n                }\r\n                if (maskTouched) {\r\n                    onMaskTap(nextClientX, nextClientY);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    useEventListener(isTouchDevice ? undefined : 'mousemove', (e) => {\r\n        e.preventDefault();\r\n        handleMove(e.clientX, e.clientY);\r\n    });\r\n    useEventListener(isTouchDevice ? undefined : 'mouseup', (e) => {\r\n        handleUp(e.clientX, e.clientY);\r\n    });\r\n    useEventListener(isTouchDevice ? 'touchmove' : undefined, (e) => {\r\n        e.preventDefault();\r\n        const position = getMultipleTouchPosition(e);\r\n        handleMove(...position);\r\n    }, { passive: false });\r\n    useEventListener(isTouchDevice ? 'touchend' : undefined, ({ changedTouches }) => {\r\n        const touch = changedTouches[0];\r\n        handleUp(touch.clientX, touch.clientY);\r\n    }, { passive: false });\r\n    useEventListener('resize', useDebounceCallback(() => {\r\n        if (loaded && !touched) {\r\n            updateState(getSuitableImageSize(naturalWidth, naturalHeight, rotate));\r\n            onPhotoResize();\r\n        }\r\n    }, { maxWait: 8 }));\r\n    useIsomorphicLayoutEffect(() => {\r\n        if (isActive) {\r\n            expose({ scale, rotate, ...fn });\r\n        }\r\n    }, [isActive]);\r\n    function handlePhotoLoad(params) {\r\n        updateState({\r\n            ...params,\r\n            ...(params.loaded && getSuitableImageSize(params.naturalWidth || 0, params.naturalHeight || 0, rotate)),\r\n        });\r\n    }\r\n    function handleStart(currentClientX, currentClientY, currentTouchLength = 0) {\r\n        updateState({\r\n            touched: true,\r\n            CX: currentClientX,\r\n            CY: currentClientY,\r\n            lastCX: currentClientX,\r\n            lastCY: currentClientY,\r\n            lastX: x,\r\n            lastY: y,\r\n            lastScale: scale,\r\n            touchLength: currentTouchLength,\r\n            touchTime: Date.now(),\r\n        });\r\n    }\r\n    function handleWheel(e) {\r\n        if (!reach) {\r\n            // 限制最大倍数和最小倍数\r\n            const toScale = limitScale(scale - e.deltaY / 100 / 2, naturalWidth / width);\r\n            updateState({ stopRaf: true });\r\n            onScale(toScale, e.clientX, e.clientY);\r\n        }\r\n    }\r\n    function handleMaskStart(e) {\r\n        updateState({\r\n            maskTouched: true,\r\n            CX: e.clientX,\r\n            CY: e.clientY,\r\n            lastX: x,\r\n            lastY: y,\r\n        });\r\n    }\r\n    function handleTouchStart(e) {\r\n        e.stopPropagation();\r\n        handleStart(...getMultipleTouchPosition(e));\r\n    }\r\n    function handleMouseDown(e) {\r\n        e.stopPropagation();\r\n        if (e.button === 0) {\r\n            handleStart(e.clientX, e.clientY, 0);\r\n        }\r\n    }\r\n    // 计算位置\r\n    const [translateX, translateY, currentWidth, currentHeight, currentScale, opacity, easingMode, FIT] = useAnimationPosition(visible, originRef, loaded, x, y, width, height, scale, speed, (isPause) => updateState({ pause: isPause }));\r\n    // 图片 objectFit 渐变时间\r\n    const transitionLayoutTime = easingMode < 4 ? speed / 2 : easingMode > 4 ? speed : 0;\r\n    const transitionCSS = `transform ${speed}ms ${easing}`;\r\n    const attrs = {\r\n        className,\r\n        onMouseDown: isTouchDevice ? undefined : handleMouseDown,\r\n        onTouchStart: isTouchDevice ? handleTouchStart : undefined,\r\n        onWheel: handleWheel,\r\n        style: {\r\n            width: `${currentWidth}px`,\r\n            height: `${currentHeight}px`,\r\n            opacity,\r\n            objectFit: easingMode === 4 ? undefined : FIT,\r\n            transform: rotate ? `rotate(${rotate}deg)` : undefined,\r\n            transition: \r\n            // 初始状态无渐变\r\n            easingMode > 2\r\n                ? `${transitionCSS}, opacity ${speed}ms ease, height ${transitionLayoutTime}ms ${easing}`\r\n                : undefined,\r\n        },\r\n    };\r\n    return (_jsx(\"div\", { className: `PhotoView__PhotoWrap${wrapClassName ? ` ${wrapClassName}` : ''}`, style: style, onMouseDown: !isTouchDevice && isActive ? handleMaskStart : undefined, onTouchStart: isTouchDevice && isActive ? (e) => handleMaskStart(e.touches[0]) : undefined, children: _jsx(\"div\", { className: \"PhotoView__PhotoBox\", style: {\r\n                transform: `matrix(${currentScale}, 0, 0, ${currentScale}, ${translateX}, 100)`,\r\n                transition: touched || pause ? undefined : transitionCSS,\r\n                willChange: isActive ? 'transform' : undefined,\r\n            }, children: src ? (_jsx(Photo, { src: src, loaded: loaded, broken: broken, ...attrs, onPhotoLoad: handlePhotoLoad, loadingElement: loadingElement, brokenElement: brokenElement })) : (render && render({ attrs, scale: currentScale, rotate })) }) }));\r\n}\r\n//# sourceMappingURL=PhotoBox.js.map","references":["/home/georgii/Документы/nvsert/nvsert/src/assets/lib/react-photo-view/node_modules/@types/react/ts5.0/index.d.ts","/home/georgii/Документы/nvsert/nvsert/src/assets/lib/react-photo-view/src/utils/isTouchDevice.ts","/home/georgii/Документы/nvsert/nvsert/src/assets/lib/react-photo-view/src/utils/getMultipleTouchPosition.ts","/home/georgii/Документы/nvsert/nvsert/src/assets/lib/react-photo-view/src/utils/getPositionOnMoveOrScale.ts","/home/georgii/Документы/nvsert/nvsert/src/assets/lib/react-photo-view/src/utils/edgeHandle.ts","/home/georgii/Документы/nvsert/nvsert/src/assets/lib/react-photo-view/src/utils/getRotateSize.ts","/home/georgii/Документы/nvsert/nvsert/src/assets/lib/react-photo-view/src/utils/limitTarget.ts","/home/georgii/Документы/nvsert/nvsert/src/assets/lib/react-photo-view/src/utils/getSuitableImageSize.ts","/home/georgii/Документы/nvsert/nvsert/src/assets/lib/react-photo-view/src/hooks/useIsomorphicLayoutEffect.ts","/home/georgii/Документы/nvsert/nvsert/src/assets/lib/react-photo-view/src/variables.ts","/home/georgii/Документы/nvsert/nvsert/src/assets/lib/react-photo-view/src/types.ts","/home/georgii/Документы/nvsert/nvsert/src/assets/lib/react-photo-view/src/hooks/useSetState.ts","/home/georgii/Документы/nvsert/nvsert/src/assets/lib/react-photo-view/src/hooks/useMethods.ts","/home/georgii/Документы/nvsert/nvsert/src/assets/lib/react-photo-view/src/hooks/useDebounceCallback.ts","/home/georgii/Документы/nvsert/nvsert/src/assets/lib/react-photo-view/src/hooks/useEventListener.ts","/home/georgii/Документы/nvsert/nvsert/src/assets/lib/react-photo-view/src/hooks/useContinuousTap.ts","/home/georgii/Документы/nvsert/nvsert/src/assets/lib/react-photo-view/src/hooks/useScrollPosition.ts","/home/georgii/Документы/nvsert/nvsert/src/assets/lib/react-photo-view/src/hooks/useAnimationPosition.ts","/home/georgii/Документы/nvsert/nvsert/src/assets/lib/react-photo-view/src/hooks/useMountedRef.ts","/home/georgii/Документы/nvsert/nvsert/src/assets/lib/react-photo-view/src/Photo.tsx","/home/georgii/Документы/nvsert/nvsert/src/assets/lib/react-photo-view/src/Photo.tsx"],"map":"{\"version\":3,\"file\":\"PhotoBox.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/PhotoBox.tsx\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/home/georgii/Документы/nvsert/nvsert/src/assets/lib/react-photo-view/dist/PhotoBox.d.ts","writeByteOrderMark":false,"text":"import React from 'react';\r\nimport type { DataType, ReachMoveFunction, ReachFunction, PhotoTapFunction, BrokenElementParams, ExposedProperties } from './types';\r\nimport './PhotoBox.less';\r\nexport interface PhotoBoxProps {\r\n    item: DataType;\r\n    visible: boolean;\r\n    speed: number;\r\n    easing: string;\r\n    wrapClassName?: string;\r\n    className?: string;\r\n    style?: object;\r\n    loadingElement?: React.ReactElement;\r\n    brokenElement?: React.ReactElement | ((photoProps: BrokenElementParams) => React.ReactElement);\r\n    onPhotoTap: PhotoTapFunction;\r\n    onMaskTap: PhotoTapFunction;\r\n    onReachMove?: ReachMoveFunction;\r\n    onReachUp?: ReachFunction;\r\n    onPhotoResize: () => void;\r\n    expose: (state: ExposedProperties) => void;\r\n    isActive: boolean;\r\n}\r\nexport default function PhotoBox({ item: { src, render, width: customWidth, height: customHeight, originRef }, visible, speed, easing, wrapClassName, className, style, loadingElement, brokenElement, onPhotoTap, onMaskTap, onReachMove, onReachUp, onPhotoResize, isActive, expose, }: PhotoBoxProps): import(\"react/jsx-runtime\").JSX.Element;\r\n"}}
