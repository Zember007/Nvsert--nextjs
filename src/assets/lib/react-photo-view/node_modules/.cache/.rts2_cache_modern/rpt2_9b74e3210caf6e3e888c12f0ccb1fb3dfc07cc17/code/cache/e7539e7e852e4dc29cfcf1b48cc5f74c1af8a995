{"code":"import { useCallback, useRef } from 'react';\r\nexport default function useDebounceCallback(callback, { leading = false, maxWait, wait = maxWait || 0, }) {\r\n    const callbackRef = useRef(callback);\r\n    callbackRef.current = callback;\r\n    const prev = useRef(0);\r\n    const trailingTimeout = useRef(null);\r\n    const clearTrailing = () => trailingTimeout.current && clearTimeout(trailingTimeout.current);\r\n    const fn = useCallback((...args) => {\r\n        const now = Date.now();\r\n        function call() {\r\n            prev.current = now;\r\n            clearTrailing();\r\n            callbackRef.current.apply(null, args);\r\n        }\r\n        const last = prev.current;\r\n        const offset = now - last;\r\n        // leading\r\n        if (last === 0) {\r\n            if (leading) {\r\n                call();\r\n            }\r\n            prev.current = now;\r\n        }\r\n        // body\r\n        if (maxWait !== undefined) {\r\n            if (offset > maxWait) {\r\n                call();\r\n                return;\r\n            }\r\n        }\r\n        else if (offset < wait) {\r\n            prev.current = now;\r\n        }\r\n        // trailing\r\n        clearTrailing();\r\n        trailingTimeout.current = setTimeout(() => {\r\n            call();\r\n            prev.current = 0;\r\n        }, wait);\r\n    }, [wait, maxWait, leading]);\r\n    fn.cancel = clearTrailing;\r\n    return fn;\r\n}\r\n//# sourceMappingURL=useDebounceCallback.js.map","references":["/home/georgii/Документы/nvsert/nvsert/src/assets/lib/react-photo-view/node_modules/@types/react/ts5.0/index.d.ts"],"map":"{\"version\":3,\"file\":\"useDebounceCallback.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/hooks/useDebounceCallback.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,WAAW,EAAE,MAAM,EAAE,MAAM,OAAO,CAAC;AAO5C,MAAM,CAAC,OAAO,UAAU,mBAAmB,CACzC,QAA8C,EAC9C,EACE,OAAO,GAAG,KAAK,EACf,OAAO,EACP,IAAI,GAAG,OAAO,IAAI,CAAC,GAKpB;IAED,MAAM,WAAW,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC;IACrC,WAAW,CAAC,OAAO,GAAG,QAAQ,CAAC;IAE/B,MAAM,IAAI,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;IACvB,MAAM,eAAe,GAAG,MAAM,CAAgC,IAAI,CAAC,CAAC;IACpE,MAAM,aAAa,GAAG,GAAG,EAAE,CAAC,eAAe,CAAC,OAAO,IAAI,YAAY,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;IAE7F,MAAM,EAAE,GAAG,WAAW,CACpB,CAAC,GAAG,IAAuB,EAAE,EAAE;QAC7B,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QAEvB,SAAS,IAAI;YACX,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC;YACnB,aAAa,EAAE,CAAC;YAChB,WAAW,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QACxC,CAAC;QACD,MAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC;QAC1B,MAAM,MAAM,GAAG,GAAG,GAAG,IAAI,CAAC;QAC1B,UAAU;QACV,IAAI,IAAI,KAAK,CAAC,EAAE;YACd,IAAI,OAAO,EAAE;gBACX,IAAI,EAAE,CAAC;aACR;YACD,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC;SACpB;QAED,OAAO;QACP,IAAI,OAAO,KAAK,SAAS,EAAE;YACzB,IAAI,MAAM,GAAG,OAAO,EAAE;gBACpB,IAAI,EAAE,CAAC;gBACP,OAAO;aACR;SACF;aAAM,IAAI,MAAM,GAAG,IAAI,EAAE;YACxB,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC;SACpB;QAED,WAAW;QACX,aAAa,EAAE,CAAC;QAChB,eAAe,CAAC,OAAO,GAAG,UAAU,CAAC,GAAG,EAAE;YACxC,IAAI,EAAE,CAAC;YACP,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;QACnB,CAAC,EAAE,IAAI,CAAC,CAAC;IACX,CAAC,EACD,CAAC,IAAI,EAAE,OAAO,EAAE,OAAO,CAAC,CACzB,CAAC;IACD,EAA0C,CAAC,MAAM,GAAG,aAAa,CAAC;IAEnE,OAAO,EAAyC,CAAC;AACnD,CAAC\"}","dts":{"name":"/home/georgii/Документы/nvsert/nvsert/src/assets/lib/react-photo-view/dist/hooks/useDebounceCallback.d.ts","writeByteOrderMark":false,"text":"interface DebounceCallback<CallbackArguments extends any[]> {\r\n    (...args: CallbackArguments): void;\r\n    cancel: () => void;\r\n}\r\nexport default function useDebounceCallback<CallbackArguments extends any[]>(callback: (...args: CallbackArguments) => void, { leading, maxWait, wait, }: {\r\n    leading?: boolean;\r\n    maxWait?: number;\r\n    wait?: number;\r\n}): DebounceCallback<CallbackArguments>;\r\nexport {};\r\n"}}
